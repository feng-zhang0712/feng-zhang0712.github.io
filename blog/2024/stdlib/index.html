<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 《JavaScript 教程》摘录 | Zhang Feng </title> <meta name="author" content="Zhang Feng"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://feng-zhang0712.github.io//blog/2024/stdlib/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Zhang</span> Feng </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">《JavaScript 教程》摘录</h1> <p class="post-meta"> Created in October 09, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/javascript"> <i class="fa-solid fa-hashtag fa-sm"></i> JavaScript</a>   ·   <a href="/blog/category/blog"> <i class="fa-solid fa-tag fa-sm"></i> blog</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <blockquote> <p>本文是对<a href="https://wangdoc.com/javascript/stdlib/" rel="external nofollow noopener" target="_blank">《JavaScript 教程 - 标准库》</a>一章中部分知识点的摘录，请访问原文，获取更多详细信息。</p> </blockquote> <h2 id="一object-对象">一、Object 对象</h2> <h3 id="1-object">1. Object()</h3> <p><code class="language-plaintext highlighter-rouge">Object</code> 本身是一个函数，可以当作工具方法使用，<strong>将任意值转为对象</strong>。</p> <p>（1）如果参数是对象，它总是返回该对象。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">isObject</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">value</span> <span class="o">===</span> <span class="nc">Object</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>
<span class="nf">isObject</span><span class="p">([])</span> <span class="c1">// true</span>
<span class="nf">isObject</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div> <p>（2）如果参数是原始类型的值，<code class="language-plaintext highlighter-rouge">Object</code> 方法将其转为对应的<strong>包装对象</strong>的实例。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nc">Object</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">Object</span> <span class="c1">// true</span>
<span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">Number</span> <span class="c1">// true</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nc">Object</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">Object</span> <span class="c1">// true</span>
<span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">String</span> <span class="c1">// true</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nc">Object</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">Object</span> <span class="c1">// true</span>
<span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">Boolean</span> <span class="c1">// true</span>
</code></pre></div></div> <p>（3）如果参数为空（或者为 <code class="language-plaintext highlighter-rouge">undefined</code> 和 <code class="language-plaintext highlighter-rouge">null</code>），<code class="language-plaintext highlighter-rouge">Object()</code> 返回一个空对象。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nc">Object</span><span class="p">();</span>
<span class="c1">// 等同于</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nc">Object</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nc">Object</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">Object</span> <span class="c1">// true</span>
</code></pre></div></div> <h3 id="2-object-构造函数">2. Object 构造函数</h3> <p><code class="language-plaintext highlighter-rouge">Object</code> 前面使用 <code class="language-plaintext highlighter-rouge">new</code> 命令，可以当作构造函数使用。<code class="language-plaintext highlighter-rouge">Object</code> 构造函数的首要用途，是直接通过它来生成新对象。</p> <ul> <li>通过 <code class="language-plaintext highlighter-rouge">var obj = new Object()</code> 的写法生成新对象，与字面量的写法 <code class="language-plaintext highlighter-rouge">var obj = {}</code> 是等价的。或者说，后者只是前者的一种简便写法。</li> <li> <p><code class="language-plaintext highlighter-rouge">Object</code> 构造函数的用法与工具方法的行为相似，但两者语义不同。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Object(value)</code> 表示将 <code class="language-plaintext highlighter-rouge">value</code> 转成一个对象；</li> <li> <code class="language-plaintext highlighter-rouge">new Object(value)</code> 则表示新生成一个对象，它的值是 <code class="language-plaintext highlighter-rouge">value</code>。</li> </ul> </li> </ul> <h3 id="3-object-的静态方法">3. Object 的静态方法</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">Object.keys()</code>：返回一个数组，其包含给定对象中所有<strong>自身的</strong>（不包括继承的）、所有<strong>可枚举的</strong>属性名。</li> <li> <code class="language-plaintext highlighter-rouge">Object.getOwnPropertyNames()</code>：返回一个数组，其包含给定对象中所有<strong>自身的</strong>属性名（包括<strong>不可枚举</strong>的属性，但不包括使用 <code class="language-plaintext highlighter-rouge">symbol</code> 值作为名称的属性）。</li> <li> <code class="language-plaintext highlighter-rouge">Object.getOwnPropertyDescriptor()</code>：获取某个属性的描述对象。</li> <li> <code class="language-plaintext highlighter-rouge">Object.defineProperty()</code>：通过描述对象，定义某个属性。</li> <li> <code class="language-plaintext highlighter-rouge">Object.defineProperties()</code>：通过描述对象，定义多个属性。</li> <li> <code class="language-plaintext highlighter-rouge">Object.preventExtensions()</code>：防止对象扩展。</li> <li> <code class="language-plaintext highlighter-rouge">Object.isExtensible()</code>：判断对象是否可扩展。</li> <li> <code class="language-plaintext highlighter-rouge">Object.seal()</code>：禁止对象配置。</li> <li> <code class="language-plaintext highlighter-rouge">Object.isSealed()</code>：判断一个对象是否可配置。</li> <li> <code class="language-plaintext highlighter-rouge">Object.freeze()</code>：冻结一个对象。</li> <li> <code class="language-plaintext highlighter-rouge">Object.isFrozen()</code>：判断一个对象是否被冻结。</li> </ul> <h3 id="4-object-的实例方法">4. Object 的实例方法</h3> <p><code class="language-plaintext highlighter-rouge">Object</code> 的实例方法定义在 <code class="language-plaintext highlighter-rouge">Object.prototype</code> 对象上，所有 <code class="language-plaintext highlighter-rouge">Object</code> 的实例对象都继承了这些方法。主要有以下 6 个。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Object.prototype.valueOf()</code>：返回当前对象对应的值。</li> <li> <code class="language-plaintext highlighter-rouge">Object.prototype.toString()</code>：返回当前对象对应的字符串形式。</li> <li> <code class="language-plaintext highlighter-rouge">Object.prototype.toLocaleString()</code>：返回当前对象对应的本地字符串形式。</li> <li> <code class="language-plaintext highlighter-rouge">Object.prototype.hasOwnProperty()</code>：判断某个属性是否为当前对象自身的属性，还是继承自原型对象的属性。</li> <li> <code class="language-plaintext highlighter-rouge">Object.prototype.isPrototypeOf()</code>：判断当前对象是否为另一个对象的原型。</li> <li> <code class="language-plaintext highlighter-rouge">Object.prototype.propertyIsEnumerable()</code>：判断某个属性是否可枚举。</li> </ul> <h4 id="41-objectprototypevalueof">4.1 Object.prototype.valueOf()</h4> <p><code class="language-plaintext highlighter-rouge">valueOf()</code> 方法的用于返回对象的“<strong>值</strong>”，默认返回对象本身。<code class="language-plaintext highlighter-rouge">valueOf()</code> 方法的主要用途是，JavaScript <strong>自动类型转换</strong>时会默认调用这个方法。</p> <p>可以自定义对象的 <code class="language-plaintext highlighter-rouge">valueOf()</code> 方法。</p> <h4 id="42-objectprototypetostring">4.2 Object.prototype.toString()</h4> <p><code class="language-plaintext highlighter-rouge">toString()</code> 方法用于返回对象的字符串形式，默认返回类型字符串。</p> <p>字符串、数组、函数、<code class="language-plaintext highlighter-rouge">Date</code> 对象都分别部署了自定义的 <code class="language-plaintext highlighter-rouge">toString</code> 方法，覆盖了 <code class="language-plaintext highlighter-rouge">Object.prototype.toString()</code> 方法。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// "1,2,3"</span>

<span class="dl">'</span><span class="s1">123</span><span class="dl">'</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// "123"</span>

<span class="p">(</span><span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">123</span><span class="p">;</span>
<span class="p">}).</span><span class="nf">toString</span><span class="p">()</span>
<span class="c1">// "function () {</span>
<span class="c1">//   return 123;</span>
<span class="c1">// }"</span>

<span class="p">(</span><span class="k">new</span> <span class="nc">Date</span><span class="p">()).</span><span class="nf">toString</span><span class="p">()</span>
<span class="c1">// "Tue May 10 2016 09:11:31 GMT+0800 (CST)"</span>
</code></pre></div></div> <p>可以自定义对象的 <code class="language-plaintext highlighter-rouge">toString()</code> 方法。</p> <h3 id="43-tostring-的应用判断数据类型">4.3 toString() 的应用：判断数据类型</h3> <p><code class="language-plaintext highlighter-rouge">Object.prototype.toString()</code> 方法返回对象的类型字符串，因此可以用来判断一个值的类型。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// "[object Object]"</span>
</code></pre></div></div> <p>由于实例对象可能会自定义 <code class="language-plaintext highlighter-rouge">toString()</code> 方法，覆盖掉 <code class="language-plaintext highlighter-rouge">Object.prototype.toString()</code> 方法，所以为了得到类型字符串，最好直接使用 <code class="language-plaintext highlighter-rouge">Object.prototype.toString()</code> 方法。通过函数的 <code class="language-plaintext highlighter-rouge">call()</code> 方法，可以在任意值上调用这个方法，帮助我们判断这个值的类型。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
</code></pre></div></div> <p>不同数据类型的 <code class="language-plaintext highlighter-rouge">Object.prototype.toString</code> 方法返回值如下。</p> <ul> <li>数值：返回 <code class="language-plaintext highlighter-rouge">[object Number]</code>。</li> <li>字符串：返回 <code class="language-plaintext highlighter-rouge">[object String]</code>。</li> <li>布尔值：返回 <code class="language-plaintext highlighter-rouge">[object Boolean]</code>。</li> <li> <code class="language-plaintext highlighter-rouge">undefined</code>：返回 <code class="language-plaintext highlighter-rouge">[object Undefined]</code>。</li> <li> <code class="language-plaintext highlighter-rouge">null</code>：返回 <code class="language-plaintext highlighter-rouge">[object Null]</code>。</li> <li>数组：返回 <code class="language-plaintext highlighter-rouge">[object Array]</code>。</li> <li> <code class="language-plaintext highlighter-rouge">arguments</code> 对象：返回 <code class="language-plaintext highlighter-rouge">[object Arguments]</code>。</li> <li>函数：返回 <code class="language-plaintext highlighter-rouge">[object Function]</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Error</code> 对象：返回 <code class="language-plaintext highlighter-rouge">[object Error]</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Date</code> 对象：返回 <code class="language-plaintext highlighter-rouge">[object Date]</code>。</li> <li> <code class="language-plaintext highlighter-rouge">RegExp</code> 对象：返回 <code class="language-plaintext highlighter-rouge">[object RegExp]</code>。</li> <li>其他对象：返回 <code class="language-plaintext highlighter-rouge">[object Object]</code>。</li> </ul> <p>利用这个特性，可以写出一个比 <code class="language-plaintext highlighter-rouge">typeof</code> 运算符更准确的类型判断函数。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">o</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="sr">/</span><span class="se">\[</span><span class="sr">object </span><span class="se">(</span><span class="sr">.*</span><span class="se">?)\]</span><span class="sr">/</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nf">toLowerCase</span><span class="p">();</span>
<span class="p">};</span>

<span class="nf">type</span><span class="p">({});</span> <span class="c1">// "object"</span>
<span class="nf">type</span><span class="p">([]);</span> <span class="c1">// "array"</span>
<span class="nf">type</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="c1">// "number"</span>
<span class="nf">type</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span> <span class="c1">// "null"</span>
<span class="nf">type</span><span class="p">();</span> <span class="c1">// "undefined"</span>
<span class="nf">type</span><span class="p">(</span><span class="sr">/abcd/</span><span class="p">);</span> <span class="c1">// "regex"</span>
<span class="nf">type</span><span class="p">(</span><span class="k">new</span> <span class="nc">Date</span><span class="p">());</span> <span class="c1">// "date"</span>
</code></pre></div></div> <p>在上面这个 <code class="language-plaintext highlighter-rouge">type</code> 函数的基础上，还可以加上专门判断某种类型数据的方法。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">o</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="sr">/</span><span class="se">\[</span><span class="sr">object </span><span class="se">(</span><span class="sr">.*</span><span class="se">?)\]</span><span class="sr">/</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nf">toLowerCase</span><span class="p">();</span>
<span class="p">};</span>

<span class="p">[</span><span class="dl">'</span><span class="s1">Null</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">Undefined</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">Object</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">Array</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">String</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">Number</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">Boolean</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">Function</span><span class="dl">'</span><span class="p">,</span>
 <span class="dl">'</span><span class="s1">RegExp</span><span class="dl">'</span>
<span class="p">].</span><span class="nf">forEach</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">type</span><span class="p">[</span><span class="dl">'</span><span class="s1">is</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">t</span><span class="p">]</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nf">type</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="o">===</span> <span class="nx">t</span><span class="p">.</span><span class="nf">toLowerCase</span><span class="p">();</span>
  <span class="p">};</span>
<span class="p">});</span>

<span class="nx">type</span><span class="p">.</span><span class="nf">isObject</span><span class="p">({})</span> <span class="c1">// true</span>
<span class="nx">type</span><span class="p">.</span><span class="nf">isNumber</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nx">type</span><span class="p">.</span><span class="nf">isRegExp</span><span class="p">(</span><span class="sr">/abc/</span><span class="p">)</span> <span class="c1">// true</span>
</code></pre></div></div> <h3 id="44-objectprototypetolocalestring">4.4 Object.prototype.toLocaleString()</h3> <p><code class="language-plaintext highlighter-rouge">Object.prototype.toLocaleString()</code> 方法与 <code class="language-plaintext highlighter-rouge">toString()</code> 的返回结果相同，也是返回一个值的字符串形式。这个方法的主要作用是留出一个接口，让各种不同的对象实现自己版本的 <code class="language-plaintext highlighter-rouge">toLocaleString()</code>，用来返回针对某些地域的特定的值。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">toString</span><span class="p">:</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">Henry Norman Bethune</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">toLocaleString</span><span class="p">:</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">白求恩</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">person</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// Henry Norman Bethune</span>
<span class="nx">person</span><span class="p">.</span><span class="nf">toLocaleString</span><span class="p">()</span> <span class="c1">// 白求恩</span>
</code></pre></div></div> <p>目前，主要有三个对象自定义了 <code class="language-plaintext highlighter-rouge">toLocaleString()</code> 方法。</p> <ul> <li><code class="language-plaintext highlighter-rouge">Number.prototype.toLocaleString()</code></li> <li><code class="language-plaintext highlighter-rouge">Array.prototype.toLocaleString()</code></li> <li><code class="language-plaintext highlighter-rouge">Date.prototype.toLocaleString()</code></li> </ul> <p>举例来说，日期的实例对象的 <code class="language-plaintext highlighter-rouge">toString()</code> 和 <code class="language-plaintext highlighter-rouge">toLocaleString()</code> 返回值就不一样，而且 <code class="language-plaintext highlighter-rouge">toLocaleString()</code> 的返回值跟用户设定的所在地域相关。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span>
<span class="nx">date</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// "Tue Jan 01 2018 12:01:33 GMT+0800 (CST)"</span>
<span class="nx">date</span><span class="p">.</span><span class="nf">toLocaleString</span><span class="p">()</span> <span class="c1">// "1/01/2018, 12:01:33 PM"</span>
</code></pre></div></div> <h3 id="45-objectprototypehasownproperty">4.5 Object.prototype.hasOwnProperty()</h3> <p><code class="language-plaintext highlighter-rouge">Object.prototype.hasOwnProperty()</code> 方法接受一个字符串作为参数，返回一个布尔值，表示该实例对象<strong>自身</strong>是否具有该属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">p</span><span class="p">:</span> <span class="mi">123</span>
<span class="p">};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nf">hasOwnProperty</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nx">obj</span><span class="p">.</span><span class="nf">hasOwnProperty</span><span class="p">(</span><span class="dl">'</span><span class="s1">toString</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div> <h2 id="二属性描述对象">二、属性描述对象</h2> <h3 id="1-概述">1. 概述</h3> <p>JavaScript 提供了一个内部数据结构，用来描述对象的属性，这个内部数据结构称为“<strong>属性描述对象</strong>”（attributes object）。<strong>每个属性</strong>都有自己对应的属性描述对象，属性描述对象提供 6 个元属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">value</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="nx">writable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">configurable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="kd">get</span><span class="p">:</span> <span class="kc">undefined</span><span class="p">,</span>
  <span class="kd">set</span><span class="p">:</span> <span class="kc">undefined</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">value</code>：该属性的属性值，默认为 <code class="language-plaintext highlighter-rouge">undefined</code>。</li> <li> <code class="language-plaintext highlighter-rouge">writable</code>：布尔值，表示属性值（<code class="language-plaintext highlighter-rouge">value</code>）是否可改变（即是否可写），默认为 <code class="language-plaintext highlighter-rouge">true</code>。</li> <li> <code class="language-plaintext highlighter-rouge">enumerable</code>：布尔值，表示该属性是否可遍历，默认为 <code class="language-plaintext highlighter-rouge">true</code>。如果设为 <code class="language-plaintext highlighter-rouge">false</code>，会使得某些操作（比如 <code class="language-plaintext highlighter-rouge">for...in</code> 循环、<code class="language-plaintext highlighter-rouge">Object.keys()</code>）跳过该属性。</li> <li> <code class="language-plaintext highlighter-rouge">configurable</code>：布尔值，表示属性的可配置性，默认为 <code class="language-plaintext highlighter-rouge">true</code>。如果设为 <code class="language-plaintext highlighter-rouge">false</code>，将阻止某些操作改写属性描述对象，比如无法删除该属性，也不得改变各种元属性（<code class="language-plaintext highlighter-rouge">value</code> 属性除外）。也就是说，<code class="language-plaintext highlighter-rouge">configurable</code> 属性控制了属性描述对象的可写性。</li> <li> <code class="language-plaintext highlighter-rouge">get</code>：函数，表示该属性的取值函数（<code class="language-plaintext highlighter-rouge">getter</code>），默认为 <code class="language-plaintext highlighter-rouge">undefined</code>。</li> <li> <code class="language-plaintext highlighter-rouge">set</code>：函数，表示该属性的存值函数（<code class="language-plaintext highlighter-rouge">setter</code>），默认为 <code class="language-plaintext highlighter-rouge">undefined</code>。</li> </ul> <h3 id="2-objectgetownpropertydescriptor">2. Object.getOwnPropertyDescriptor()</h3> <p><code class="language-plaintext highlighter-rouge">Object.getOwnPropertyDescriptor()</code> 方法可以获取某个属性的描述对象。此方法只能用于对象<strong>自身</strong>的属性，不能用于继承的属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="na">p</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span> <span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// Object { value: "a",</span>
<span class="c1">//   writable: true,</span>
<span class="c1">//   enumerable: true,</span>
<span class="c1">//   configurable: true</span>
<span class="c1">// }</span>
</code></pre></div></div> <h3 id="3-objectgetownpropertynames">3. Object.getOwnPropertyNames()</h3> <p><code class="language-plaintext highlighter-rouge">Object.getOwnPropertyNames()</code> 方法返回一个数组，其包含给定对象中所有自身的属性名（包括<strong>不可枚举的</strong>属性，但不包括使用 <code class="language-plaintext highlighter-rouge">symbol</code> 值作为名称的属性）。</p> <h3 id="4-objectdefinepropertyobjectdefineproperties">4. Object.defineProperty()，Object.defineProperties()</h3> <p><code class="language-plaintext highlighter-rouge">Object.defineProperty()</code> 方法用于通过属性描述对象，定义或修改一个属性，然后返回修改后的对象。如果属性已经存在，<code class="language-plaintext highlighter-rouge">Object.defineProperty()</code> 方法相当于更新该属性的属性描述对象。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">({},</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
  <span class="na">writable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">configurable</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">});</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="c1">// 123</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="mi">246</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="c1">// 123</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Object.defineProperties()</code> 方法用于一次性定义或修改多个属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperties</span><span class="p">({},</span> <span class="p">{</span>
  <span class="na">p1</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
    <span class="na">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">p2</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">abc</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">p3</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">configurable</span><span class="p">:</span> <span class="kc">true</span>
    <span class="na">get</span><span class="p">:</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">p1</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">p2</span><span class="p">;</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p1</span> <span class="c1">// 123</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p2</span> <span class="c1">// "abc"</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p3</span> <span class="c1">// "123abc"</span>
</code></pre></div></div> <p>注意，一旦定义了取值函数 <code class="language-plaintext highlighter-rouge">get</code>（或存值函数 <code class="language-plaintext highlighter-rouge">set</code>），就不能将 <code class="language-plaintext highlighter-rouge">writable</code> 属性设为 <code class="language-plaintext highlighter-rouge">true</code>，或者同时定义 <code class="language-plaintext highlighter-rouge">value</code> 属性，否则会报错。</p> <h3 id="5-objectprototypepropertyisenumerable">5. Object.prototype.propertyIsEnumerable()</h3> <p>实例对象的 <code class="language-plaintext highlighter-rouge">propertyIsEnumerable()</code> 方法返回一个布尔值，用来判断某个属性是否<strong>可遍历</strong>。这个方法只能用于判断对象<strong>自身的</strong>属性，对于继承的属性一律返回 <code class="language-plaintext highlighter-rouge">false</code>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nf">propertyIsEnumerable</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nx">obj</span><span class="p">.</span><span class="nf">propertyIsEnumerable</span><span class="p">(</span><span class="dl">'</span><span class="s1">toString</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div> <h3 id="6-元属性">6. 元属性</h3> <p>属性描述对象的各个属性称为“<strong>元属性</strong>”，因为它们可以看作是控制属性的属性。</p> <h4 id="61-value">6.1 value</h4> <p><code class="language-plaintext highlighter-rouge">value</code> 属性是目标属性的值。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">).</span><span class="nx">value</span> <span class="c1">// 123</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="mi">246</span> <span class="p">});</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="c1">// 246</span>
</code></pre></div></div> <h4 id="62-configurable">6.2 configurable</h4> <p><code class="language-plaintext highlighter-rouge">configurable</code>（可配置性）布尔值，用于是否可以修改属性描述对象。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">configurable</code> 决定目标属性是否可以被删除（<code class="language-plaintext highlighter-rouge">delete</code>）。</li> <li> <code class="language-plaintext highlighter-rouge">configurable</code> 为 <code class="language-plaintext highlighter-rouge">false</code> 时，<code class="language-plaintext highlighter-rouge">enumerable</code>、<code class="language-plaintext highlighter-rouge">configurable</code> 和 <code class="language-plaintext highlighter-rouge">writable</code> 都不能被修改。</li> <li> <p><code class="language-plaintext highlighter-rouge">configurable</code> 和 <code class="language-plaintext highlighter-rouge">writable</code> 二者有一个为 <code class="language-plaintext highlighter-rouge">true</code>，就允许改动 <code class="language-plaintext highlighter-rouge">value</code>，<code class="language-plaintext highlighter-rouge">writable</code> 为 <code class="language-plaintext highlighter-rouge">false</code> 时，直接对目标属性赋值，不报错，但会失败。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">({},</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">writable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">configurable</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">});</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="c1">// 1</span>
</code></pre></div> </div> </li> </ul> <h4 id="63-enumerable">6.3 enumerable</h4> <p><code class="language-plaintext highlighter-rouge">enumerable</code>（可遍历性）布尔值，表示目标属性是否可遍历。如果一个属性的 <code class="language-plaintext highlighter-rouge">enumerable</code> 为 <code class="language-plaintext highlighter-rouge">false</code>，下面三个操作不会取到该属性。</p> <ul> <li><code class="language-plaintext highlighter-rouge">for..in</code></li> <li><code class="language-plaintext highlighter-rouge">Object.keys()</code></li> <li><code class="language-plaintext highlighter-rouge">JSON.stringify()</code></li> </ul> <h4 id="64-writable">6.4 writable</h4> <p><code class="language-plaintext highlighter-rouge">writable</code> 布尔值，决定目标属性<strong>值</strong>（<code class="language-plaintext highlighter-rouge">value</code>）是否可以被改变。正常模式下，对 <code class="language-plaintext highlighter-rouge">writable</code> 为 <code class="language-plaintext highlighter-rouge">false</code> 的属性赋值不会报错，只会失败。严格模式下会报错。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="mi">37</span><span class="p">,</span>
  <span class="na">writable</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">});</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">37</span><span class="p">;</span>
<span class="c1">// Uncaught TypeError: Cannot assign to read only property 'a' of object</span>
</code></pre></div></div> <p>如果原型对象的某个属性的 <code class="language-plaintext highlighter-rouge">writable</code> 为 <code class="language-plaintext highlighter-rouge">false</code>，那么子对象将无法自定义这个属性。有个规避方法可以绕过这个限制，就是通过覆盖属性描述对象。原因是这种情况下，原型链会被完全忽视。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">({},</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">writable</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="nx">proto</span><span class="p">);</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span>
<span class="p">});</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="c1">// "b"</span>
</code></pre></div></div> <h3 id="7-存取器">7. 存取器</h3> <p>一旦对目标属性定义了存取器，那么存取的时候，都将执行对应的函数。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">({},</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">get</span><span class="p">:</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">getter</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">set</span><span class="p">:</span> <span class="nf">function </span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">setter: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">value</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="c1">// "getter"</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="mi">123</span> <span class="c1">// "setter: 123"</span>
</code></pre></div></div> <p>JavaScript 还提供了存取器的另一种写法。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 写法二</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="kd">get</span> <span class="nf">p</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">getter</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="kd">set</span> <span class="nf">p</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">setter: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">value</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div> <p>上面两种写法，虽然属性 <code class="language-plaintext highlighter-rouge">p</code> 的读取和赋值行为是一样的，但是有一些细微的区别。</p> <ul> <li>第一种写法，属性 <code class="language-plaintext highlighter-rouge">p</code> 的 <code class="language-plaintext highlighter-rouge">configurable</code> 和 <code class="language-plaintext highlighter-rouge">enumerable</code> 都为 <code class="language-plaintext highlighter-rouge">false</code>，从而导致属性 <code class="language-plaintext highlighter-rouge">p</code> 是不可遍历的；</li> <li>第二种写法，属性 <code class="language-plaintext highlighter-rouge">p</code> 的 <code class="language-plaintext highlighter-rouge">configurable</code> 和 <code class="language-plaintext highlighter-rouge">enumerable</code> 都为 <code class="language-plaintext highlighter-rouge">true</code>，因此属性 <code class="language-plaintext highlighter-rouge">p</code> 是可遍历的。</li> </ul> <p>实际开发中，写法二更常用。</p> <h3 id="8-对象的拷贝">8. 对象的拷贝</h3> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">extend</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">to</span><span class="p">,</span> <span class="k">from</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="k">from</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">to</span><span class="p">[</span><span class="nx">property</span><span class="p">]</span> <span class="o">=</span> <span class="k">from</span><span class="p">[</span><span class="nx">property</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">to</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">extend</span><span class="p">({},</span> <span class="p">{</span>
  <span class="na">a</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
<span class="c1">// {a: 1}</span>

<span class="nf">extend</span><span class="p">({},</span> <span class="p">{</span>
  <span class="kd">get</span> <span class="nf">a</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">1</span> <span class="p">}</span>
<span class="p">})</span>
<span class="c1">// {a: 1}</span>
</code></pre></div></div> <p>上面是一个对象的拷贝方法，它的问题在于，如果遇到存取器定义的属性，只会拷贝值。为了解决这个问题，可以通过 <code class="language-plaintext highlighter-rouge">Object.defineProperty()</code> 方法来拷贝属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">extend</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">to</span><span class="p">,</span> <span class="k">from</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="k">from</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="k">from</span><span class="p">.</span><span class="nf">hasOwnProperty</span><span class="p">(</span><span class="nx">property</span><span class="p">))</span> <span class="k">continue</span><span class="p">;</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">(</span>
      <span class="nx">to</span><span class="p">,</span>
      <span class="nx">property</span><span class="p">,</span>
      <span class="nb">Object</span><span class="p">.</span><span class="nf">getOwnPropertyDescriptor</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="nx">property</span><span class="p">)</span>
    <span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">to</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">extend</span><span class="p">({},</span> <span class="p">{</span>
  <span class="kd">get</span> <span class="nf">a</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">})</span>
<span class="c1">// { get a(){ return 1 } })</span>
</code></pre></div></div> <p>上面代码中，<code class="language-plaintext highlighter-rouge">hasOwnProperty</code> 那一行用来过滤掉继承的属性，否则可能会报错，因为 <code class="language-plaintext highlighter-rouge">Object.getOwnPropertyDescriptor()</code> 读不到继承属性的属性描述对象。</p> <h3 id="9-控制对象状态">9. 控制对象状态</h3> <p>JavaScript 提供了三种冻结方法，最弱的一种是 <code class="language-plaintext highlighter-rouge">Object.preventExtensions()</code>，其次是 <code class="language-plaintext highlighter-rouge">Object.seal()</code>，最强的是 <code class="language-plaintext highlighter-rouge">Object.freeze()</code>。</p> <h4 id="91-objectpreventextensionsobjectisextensible">9.1 Object.preventExtensions()，Object.isExtensible()</h4> <p><code class="language-plaintext highlighter-rouge">Object.preventExtensions()</code> 使得一个对象<strong>无法再添加新属性</strong>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="p">();</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">preventExtensions</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
<span class="p">});</span>
<span class="c1">// TypeError: Cannot define property:p, object is not extensible.</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="c1">// undefined</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Object.isExtensible()</code> 用于检查一个对象是否使用了 <code class="language-plaintext highlighter-rouge">Object.preventExtensions()</code> 方法。也就是说，检查是否可以为一个对象添加属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="p">();</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">isExtensible</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">preventExtensions</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">isExtensible</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div> <h4 id="92-objectsealobjectissealed">9.2 Object.seal()，Object.isSealed()</h4> <p><code class="language-plaintext highlighter-rouge">Object.seal()</code> 用于<strong>禁止对象添加新属性和删除旧属性。它只禁止添加或删除属性，并不影响修改某个属性的值</strong>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="na">p</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span> <span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">seal</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="k">delete</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">p</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">p</span> <span class="c1">// "hello"</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">world</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="c1">// undefined</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Object.seal()</code> 实质是把属性描述对象的 <code class="language-plaintext highlighter-rouge">configurable</code> 属性设为 <code class="language-plaintext highlighter-rouge">false</code>，因此属性描述对象不再能改变了。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">p</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span>
<span class="p">};</span>
<span class="c1">// seal方法之前</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// Object {</span>
<span class="c1">//   value: "a",</span>
<span class="c1">//   writable: true,</span>
<span class="c1">//   enumerable: true,</span>
<span class="c1">//   configurable: true</span>
<span class="c1">// }</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">seal</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="c1">// seal方法之后</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// Object {</span>
<span class="c1">//   value: "a",</span>
<span class="c1">//   writable: true,</span>
<span class="c1">//   enumerable: true,</span>
<span class="c1">//   configurable: false</span>
<span class="c1">// }</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">enumerable</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">})</span>
<span class="c1">// TypeError: Cannot redefine property: p</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Object.isSealed()</code> 用于检查一个对象是否使用了 <code class="language-plaintext highlighter-rouge">Object.seal()</code> 方法。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="na">p</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span> <span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nf">seal</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">isSealed</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="c1">// true</span>

<span class="c1">// 这时，Object.isExtensible() 方法也返回 false。</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">isExtensible</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div> <h4 id="93-objectfreezeobjectisfrozen">9.3 Object.freeze()，Object.isFrozen()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">Object.freeze()</code> 使得一个对象<strong>无法添加新属性</strong>、<strong>无法删除旧属性</strong>、也<strong>无法改变属性的值</strong>，使得这个对象实际上变成了<strong>常量</strong>。</li> <li> <code class="language-plaintext highlighter-rouge">Object.isFrozen()</code> 方法用于检查一个对象是否使用了 <code class="language-plaintext highlighter-rouge">Object.freeze()</code> 方法。<code class="language-plaintext highlighter-rouge">Object.isFrozen()</code> 的一个用途是，确认某个对象没有被冻结后，再对它的属性赋值。</li> </ul> <p>使用 <code class="language-plaintext highlighter-rouge">Object.freeze()</code> 方法以后，<code class="language-plaintext highlighter-rouge">Object.isSealed()</code> 将会返回 <code class="language-plaintext highlighter-rouge">true</code>，<code class="language-plaintext highlighter-rouge">Object.isExtensible()</code> 返回 <code class="language-plaintext highlighter-rouge">false</code>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">p</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
<span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">freeze</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">isSealed</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">isExtensible</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div> <h4 id="94-局限性">9.4 局限性</h4> <p>上面三个方法锁定对象的可写性有两个局限性。</p> <p>（1）可以通过改变原型对象，来为对象增加属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="p">();</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">preventExtensions</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">getPrototypeOf</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nx">proto</span><span class="p">.</span><span class="nx">t</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">t</span>
<span class="c1">// hello</span>
</code></pre></div></div> <p>一种解决方案是，把 <code class="language-plaintext highlighter-rouge">obj</code> 的原型也冻结住。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="p">();</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">preventExtensions</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">getPrototypeOf</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">preventExtensions</span><span class="p">(</span><span class="nx">proto</span><span class="p">);</span>

<span class="nx">proto</span><span class="p">.</span><span class="nx">t</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">t</span> <span class="c1">// undefined</span>
</code></pre></div></div> <p>（2）如果属性值是对象，上面这些方法只能冻结属性指向的对象，而不能冻结对象本身的内容。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">foo</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">bar</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">]</span>
<span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nf">freeze</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">bar</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">bar</span> <span class="c1">// ["a", "b", "c"]</span>
</code></pre></div></div> <h2 id="三array-对象">三、Array 对象</h2> <h3 id="1-构造函数">1. 构造函数</h3> <p><code class="language-plaintext highlighter-rouge">Array</code> 是 JavaScript 的原生对象，同时也是一个<strong>构造函数</strong>，可以用它生成新的数组。</p> <p>注意，如果参数是一个正整数，返回数组的成员都是空位。虽然读取的时候返回 <code class="language-plaintext highlighter-rouge">undefined</code>，但实际上该位置没有任何值。虽然这时可以读取到 <code class="language-plaintext highlighter-rouge">length</code> 属性，但是取不到键名。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">length</span> <span class="c1">// 2</span>
<span class="nx">arr</span> <span class="c1">// [ empty x 2 ]</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="c1">// 等同于</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Array()</code> 构造函数有个很大的缺陷，不同的参数个数会导致不一致的行为。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 无参数时，返回一个空数组</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">()</span> <span class="c1">// []</span>

<span class="c1">// 单个正整数参数，表示返回的新数组的长度</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// [ empty ]</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// [ empty x 2 ]</span>

<span class="c1">// 非正整数的数值作为参数，会报错</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="mf">3.2</span><span class="p">)</span> <span class="c1">// RangeError: Invalid array length</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// RangeError: Invalid array length</span>

<span class="c1">// 单个非数值（比如字符串、布尔值、对象等）作为参数，</span>
<span class="c1">// 则该参数是返回的新数组的成员</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="dl">'</span><span class="s1">abc</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// ['abc']</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span> <span class="c1">// [Array[1]]</span>

<span class="c1">// 多参数时，所有参数都是返回的新数组的成员</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// [1, 2]</span>
<span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// ['a', 'b', 'c']</span>
</code></pre></div></div> <p>不建议使用它生成新数组，直接使用数组字面量是更好的做法。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// bad</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="c1">// good</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
</code></pre></div></div> <h3 id="2-静态方法">2. 静态方法</h3> <p><code class="language-plaintext highlighter-rouge">Array.isArray()</code> 方法返回一个布尔值，表示参数是否为数组。它可以弥补 <code class="language-plaintext highlighter-rouge">typeof</code> 运算符的不足。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="k">typeof</span> <span class="nx">arr</span> <span class="c1">// "object"</span>
<span class="nb">Array</span><span class="p">.</span><span class="nf">isArray</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="c1">// true</span>
</code></pre></div></div> <h3 id="3-实例方法">3. 实例方法</h3> <h4 id="31-valueoftostring">3.1 valueOf()，toString()</h4> <ul> <li>数组的 <code class="language-plaintext highlighter-rouge">valueOf()</code> 方法返回数组本身。</li> <li>数组的 <code class="language-plaintext highlighter-rouge">toString()</code> 方法返回数组的字符串形式。</li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="nx">arr</span><span class="p">.</span><span class="nf">valueOf</span><span class="p">()</span> <span class="c1">// [1, 2, 3]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// "1,2,3"</span>
</code></pre></div></div> <h4 id="32-pushpop">3.2 push()，pop()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">push(element0, element1, ...)</code> 方法用于在数组的末端添加一个或多个元素，并返回添加新元素后的<strong>数组长度</strong>。该方法会改变原数组。</li> <li> <code class="language-plaintext highlighter-rouge">pop()</code> 方法用于删除数组的<strong>最后一个</strong>元素，并返回<strong>该元素</strong>。该方法会改变原数组。</li> </ul> <h4 id="33-shiftunshift">3.3 shift()，unshift()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">shift()</code> 方法用于删除数组的<strong>第一个</strong>元素，并返回<strong>该元素</strong>。该方法会改变原数组。</li> <li> <code class="language-plaintext highlighter-rouge">unshift(element1, element2, ...)</code> 方法用于在数组的<strong>头部位置</strong>添加元素，并返回添加新元素后的<strong>数组长度</strong>。该方法会改变原数组。</li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">];</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">unshift</span><span class="p">(</span><span class="dl">'</span><span class="s1">x</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// 4</span>
<span class="nx">a</span> <span class="c1">// ['x', 'a', 'b', 'c']</span>
</code></pre></div></div> <h4 id="34-join">3.4 join()</h4> <p><code class="language-plaintext highlighter-rouge">join(separator)</code> 方法以指定参数作为分隔符，将所有数组成员连接为一个字符串返回。如果不提供参数，默认用<strong>逗号</strong>分隔。</p> <h4 id="35-concat">3.5 concat()</h4> <p><code class="language-plaintext highlighter-rouge">concat(value0, value1, ...)</code> 方法用于多个数组的合并。它将新数组的成员，添加到原数组成员的后部，返回一个新数组，原数组不变。<code class="language-plaintext highlighter-rouge">concat()</code> 接受任何类型的值作为参数，添加到目标数组尾部。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">].</span><span class="nf">concat</span><span class="p">([</span><span class="dl">'</span><span class="s1">world</span><span class="dl">'</span><span class="p">])</span>
<span class="c1">// ["hello", "world"]</span>

<span class="p">[</span><span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">].</span><span class="nf">concat</span><span class="p">([</span><span class="dl">'</span><span class="s1">world</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="s1">!</span><span class="dl">'</span><span class="p">])</span>
<span class="c1">// ["hello", "world", "!"]</span>

<span class="p">[].</span><span class="nf">concat</span><span class="p">({</span><span class="na">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="na">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="c1">// [{ a: 1 }, { b: 2 }]</span>

<span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nf">concat</span><span class="p">({</span><span class="na">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="c1">// [2, {a: 1}]</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">concat</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="c1">// [1, 2, 3, 4, 5, 6]</span>
</code></pre></div></div> <p>对于对象成员，<code class="language-plaintext highlighter-rouge">concat()</code> 方法执行的是<strong>浅拷贝</strong>。</p> <h4 id="36-reverse">3.6 reverse()</h4> <p><code class="language-plaintext highlighter-rouge">reverse()</code> 方法用于颠倒排列数组元素，返回改变后的数组。该方法将改变原数组。</p> <h4 id="37-slice">3.7 slice()</h4> <p><code class="language-plaintext highlighter-rouge">slice(start, end)</code> 方法用于<strong>提取</strong>目标数组的一部分，返回一个新数组，<strong>原数组不变</strong>。截取的数据，包含 <code class="language-plaintext highlighter-rouge">start</code> 位置不包含 <code class="language-plaintext highlighter-rouge">end</code> 位置。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">a</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1">// ["a", "b", "c"]</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// ["b", "c"]</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// ["b"]</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="c1">// ["c"]</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">slice</span><span class="p">()</span> <span class="c1">// ["a", "b", "c"]</span>
</code></pre></div></div> <p>如果 <code class="language-plaintext highlighter-rouge">slice()</code> 方法的参数是负数，则表示倒数计算的位置。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">];</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// ["b", "c"]</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// ["b"]</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">slice()</code> 方法的一个重要应用，是将类似数组的对象转为真正的数组。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nf">call</span><span class="p">({</span> <span class="mi">0</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="na">length</span><span class="p">:</span> <span class="mi">2</span> <span class="p">})</span> <span class="c1">// ['a', 'b']</span>
<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">));</span>
<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
</code></pre></div></div> <h4 id="38-splice">3.8 splice()</h4> <p><code class="language-plaintext highlighter-rouge">splice(start, deleteCount, item1, item2, ...)</code> 方法用于删除原数组的一部分成员，并可以在删除的位置添加新的数组成员，返回值是<strong>被删除的元素</strong>。该方法会改变原数组。</p> <p><code class="language-plaintext highlighter-rouge">splice()</code> 的第一个参数是删除的起始位置（从 <code class="language-plaintext highlighter-rouge">0</code> 开始），第二个参数是被删除的元素个数。如果后面还有更多的参数，则表示这些就是要被插入数组的新元素。起始位置如果是负数，表示从倒数位置开始删除。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">e</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">f</span><span class="dl">'</span><span class="p">];</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// ["e", "f"]</span>
<span class="nx">a</span> <span class="c1">// ["a", "b", "c", "d", 1, 2]</span>
</code></pre></div></div> <p>如果只是单纯地插入元素，<code class="language-plaintext highlighter-rouge">splice()</code> 方法的第二个参数可以设为 <code class="language-plaintext highlighter-rouge">0</code>。</p> <p>如果只提供第一个参数，等同于将原数组在指定位置拆分成两个数组。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="nx">a</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// [3, 4]</span>
<span class="nx">a</span> <span class="c1">// [1, 2]</span>
</code></pre></div></div> <h4 id="39-sort">3.9 sort()</h4> <p><code class="language-plaintext highlighter-rouge">sort(compareFn)</code> 方法对数组成员进行排序，默认是按照<strong>字典顺序</strong>排序。排序后，原数组将被改变。<code class="language-plaintext highlighter-rouge">sort()</code> 方法不是按照大小排序，而是按照字典顺序。也就是说，<strong>数值会被先转成字符串</strong>，再按照字典顺序进行比较。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">].</span><span class="nf">sort</span><span class="p">()</span>
<span class="c1">// ['a', 'b', 'c', 'd']</span>

<span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">].</span><span class="nf">sort</span><span class="p">()</span>
<span class="c1">// [1, 2, 3, 4]</span>

<span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">101</span><span class="p">].</span><span class="nf">sort</span><span class="p">()</span>
<span class="c1">// [101, 11]</span>

<span class="p">[</span><span class="mi">10111</span><span class="p">,</span> <span class="mi">1101</span><span class="p">,</span> <span class="mi">111</span><span class="p">].</span><span class="nf">sort</span><span class="p">()</span>
<span class="c1">// [10111, 1101, 111]</span>
</code></pre></div></div> <p>如果想让 <code class="language-plaintext highlighter-rouge">sort()</code> 方法按照自定义方式排序，可以传入一个函数作为参数。自定义的排序函数应该返回<strong>数值</strong>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">10111</span><span class="p">,</span> <span class="mi">1101</span><span class="p">,</span> <span class="mi">111</span><span class="p">].</span><span class="nf">sort</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">})</span>
<span class="c1">// [111, 1101, 10111]</span>
</code></pre></div></div> <h4 id="310-foreachmap">3.10 forEach()，map()</h4> <p><code class="language-plaintext highlighter-rouge">forEach(callbackFn, thisArg)</code> 方法用来历数组遍，没有返回值。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">forEach()</code> 方法的第一个参数是一个回调函数，该函数接受三个参数：当前值、当前位置、整个数组。</li> <li> <code class="language-plaintext highlighter-rouge">forEach()</code> 方法也可接受第二个参数，绑定参数函数的 <code class="language-plaintext highlighter-rouge">this</code> 变量。</li> <li> <code class="language-plaintext highlighter-rouge">forEach()</code> 方法无法中断执行且会跳过数组的空位（但不会跳过 <code class="language-plaintext highlighter-rouge">undefined</code> 和 <code class="language-plaintext highlighter-rouge">null</code>）。</li> </ul> <p><code class="language-plaintext highlighter-rouge">map(callbackFn, thisArg)</code> 方法将数组的所有成员依次传入参数函数，然后把每一次的执行结果组成一个新数组返回。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">map()</code> 方法的第一个参数是一个回调函数，该函数接受三个参数：当前值、当前位置、整个数组。</li> <li> <code class="language-plaintext highlighter-rouge">map()</code> 方法也可接受第二个参数，绑定参数函数的 <code class="language-plaintext highlighter-rouge">this</code> 变量。</li> <li> <code class="language-plaintext highlighter-rouge">map()</code> 会跳过数组的空位。</li> </ul> <h4 id="311-filter">3.11 filter()</h4> <p><code class="language-plaintext highlighter-rouge">filter(callbackFn, thisArg)</code> 方法用于过滤数组成员，满足条件的成员组成一个新数组返回。它的参数是一个函数，所有数组成员依次执行该函数，返回结果为 <code class="language-plaintext highlighter-rouge">true</code> 的成员组成一个新数组返回。该方法不会改变原数组。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">filter()</code> 方法的第一个参数是一个回调函数，该函数接受三个参数：当前值、当前位置、整个数组。</li> <li> <code class="language-plaintext highlighter-rouge">filter()</code> 方法也可接受第二个参数，绑定参数函数的 <code class="language-plaintext highlighter-rouge">this</code> 变量。</li> </ul> <h4 id="312-someevery">3.12 some()，every()</h4> <p><code class="language-plaintext highlighter-rouge">some(callbackFn, thisArg)</code> 和 <code class="language-plaintext highlighter-rouge">every(callbackFn, thisArg)</code> 方法都接受一个函数作为参数，所有数组成员依次执行该函数。它们也可接受第二个参数，绑定参数函数的 <code class="language-plaintext highlighter-rouge">this</code> 变量。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">some()</code> 方法是只要一个成员的返回值是 <code class="language-plaintext highlighter-rouge">true</code>，则整个 <code class="language-plaintext highlighter-rouge">some()</code> 方法的返回值就是 <code class="language-plaintext highlighter-rouge">true</code>，否则返回 <code class="language-plaintext highlighter-rouge">false</code>。</li> <li> <code class="language-plaintext highlighter-rouge">every()</code> 方法是所有成员的返回值都是 <code class="language-plaintext highlighter-rouge">true</code>，整个 <code class="language-plaintext highlighter-rouge">every()</code> 方法才返回 <code class="language-plaintext highlighter-rouge">true</code>，否则返回 <code class="language-plaintext highlighter-rouge">false</code>。</li> </ul> <h4 id="313-reducereduceright">3.13 reduce()，reduceRight()</h4> <p><code class="language-plaintext highlighter-rouge">reduce(callbackFn, initialValue)</code> 方法和 <code class="language-plaintext highlighter-rouge">reduceRight(callbackFn, initialValue)</code> 方法依次处理数组的每个成员，最终累计为一个值。它们的差别是，<code class="language-plaintext highlighter-rouge">reduce()</code> 是从左到右处理（从第一个成员到最后一个成员），<code class="language-plaintext highlighter-rouge">reduceRight()</code> 则是从右到左（从最后一个成员到第一个成员），其他完全一样。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nf">reduce</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">})</span>
<span class="c1">// 1 2</span>
<span class="c1">// 3 3</span>
<span class="c1">// 6 4</span>
<span class="c1">// 10 5</span>
<span class="c1">//最后结果：15</span>
</code></pre></div></div> <ul> <li> <p><code class="language-plaintext highlighter-rouge">reduce()</code> 方法和 <code class="language-plaintext highlighter-rouge">reduceRight()</code> 方法的第一个参数都是一个函数。该函数接受以下四个参数。</p> <ul> <li>累积变量（必须）。第一次执行时，默认为数组的第一个成员；以后每次执行时，都是上一轮的返回值。</li> <li>当前变量（必须）。第一次执行时，默认为数组的第二个成员；以后每次执行时，都是下一个成员。</li> <li>当前位置（可选）。一个整数，表示第二个参数（当前变量）的位置，默认为 <code class="language-plaintext highlighter-rouge">1</code>。</li> <li>原数组（可选）。</li> </ul> </li> <li> <p><code class="language-plaintext highlighter-rouge">reduce()</code> 方法和 <code class="language-plaintext highlighter-rouge">reduceRight()</code> 方法的第二个参数，用于对累积变量指定初值。建议总是加上第二个参数，因为它可以防止空数组报错。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nf">reduce</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">},</span> <span class="mi">10</span><span class="p">);</span>
<span class="c1">// 25</span>
</code></pre></div> </div> </li> </ul> <h4 id="314-indexoflastindexof">3.14 indexOf()，lastIndexOf()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">indexOf(searchElement, fromIndex)</code> 方法返回给定元素在数组中第一次出现的位置，如果没有出现则返回 <code class="language-plaintext highlighter-rouge">-1</code>。<code class="language-plaintext highlighter-rouge">indexOf()</code> 方法还可以接受第二个参数，表示搜索的开始位置。</li> <li> <code class="language-plaintext highlighter-rouge">lastIndexOf(searchElement, fromIndex)</code> 方法返回给定元素在数组中最后一次出现的位置，如果没有出现则返回 <code class="language-plaintext highlighter-rouge">-1</code>。</li> </ul> <p>注意，这两个方法不能用来搜索 <code class="language-plaintext highlighter-rouge">NaN</code> 的位置，即它们无法确定数组成员是否包含 <code class="language-plaintext highlighter-rouge">NaN</code>。这是因为这两个方法内部，使用严格相等运算符（<code class="language-plaintext highlighter-rouge">===</code>）进行比较，而 <code class="language-plaintext highlighter-rouge">NaN</code> 是唯一一个不等于自身的值。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="kc">NaN</span><span class="p">].</span><span class="nf">indexOf</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span> <span class="c1">// -1</span>
<span class="p">[</span><span class="kc">NaN</span><span class="p">].</span><span class="nf">lastIndexOf</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span> <span class="c1">// -1</span>
</code></pre></div></div> <h4 id="315-链式使用">3.15 链式使用</h4> <p>上面这些数组方法之中，有不少返回的还是数组，所以可以链式使用。</p> <h2 id="四包装对象">四、包装对象</h2> <h3 id="1-定义">1. 定义</h3> <p>“<strong>包装对象</strong>”指的是与数值、字符串、布尔值分别相对应的 <code class="language-plaintext highlighter-rouge">Boolean</code>、<code class="language-plaintext highlighter-rouge">Number</code>、<code class="language-plaintext highlighter-rouge">String</code> 三个原生对象。这三个原生对象可以把原始类型的值变成（包装成）对象。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">v1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Number</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">v2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="p">(</span><span class="dl">'</span><span class="s1">abc</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">v3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Boolean</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="k">typeof</span> <span class="nx">v1</span> <span class="c1">// "object"</span>
<span class="k">typeof</span> <span class="nx">v2</span> <span class="c1">// "object"</span>
<span class="k">typeof</span> <span class="nx">v3</span> <span class="c1">// "object"</span>

<span class="nx">v1</span> <span class="o">===</span> <span class="mi">123</span> <span class="c1">// false</span>
<span class="nx">v2</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">abc</span><span class="dl">'</span> <span class="c1">// false</span>
<span class="nx">v3</span> <span class="o">===</span> <span class="kc">true</span> <span class="c1">// false</span>
</code></pre></div></div> <p>包装对象的设计目的，首先是使得“对象”这种类型可以覆盖 JavaScript 所有的值，整门语言有一个通用的数据模型，其次是使得原始类型的值也有办法调用自己的方法。</p> <p>这三种包装对象作为构造函数使用（带有 <code class="language-plaintext highlighter-rouge">new</code>）时，可以将原始类型的值转为对象；作为普通函数使用时（不带有 <code class="language-plaintext highlighter-rouge">new</code>），可以将任意类型的值，转为原始类型的值。</p> <h3 id="2-实例方法">2. 实例方法</h3> <p>三种包装对象共有方法：<code class="language-plaintext highlighter-rouge">valueOf()</code> 和 <code class="language-plaintext highlighter-rouge">toString()</code>。</p> <h3 id="3-原始类型与实例对象的自动转换">3. 原始类型与实例对象的自动转换</h3> <p>某些场合，原始类型的值会自动当作包装对象调用，即调用包装对象的属性和方法。这时，JavaScript 引擎会自动将原始类型的值转为包装对象实例，并在使用后立刻销毁实例。</p> <p>比如，字符串可以调用 <code class="language-plaintext highlighter-rouge">length</code> 属性，返回字符串的长度。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">abc</span><span class="dl">'</span><span class="p">.</span><span class="nx">length</span> <span class="c1">// 3</span>
</code></pre></div></div> <p>上面代码中，<code class="language-plaintext highlighter-rouge">abc</code> 是一个字符串，本身不是对象，不能调用 <code class="language-plaintext highlighter-rouge">length</code> 属性。JavaScript 引擎自动将其转为包装对象，在这个对象上调用 <code class="language-plaintext highlighter-rouge">length</code> 属性。调用结束后，这个临时对象就会被销毁。这就叫原始类型与实例对象的自动转换。</p> <p>自动转换生成的包装对象是<strong>只读的</strong>，无法修改。所以，字符串无法添加新属性。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Hello World</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">x</span> <span class="c1">// undefined</span>
</code></pre></div></div> <h3 id="4-自定义方法">4. 自定义方法</h3> <p>包装对象还可以自定义方法和属性，供原始类型的值直接调用。比如，我们可以新增一个 <code class="language-plaintext highlighter-rouge">double()</code> 方法，使得字符串和数字翻倍。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">double</span> <span class="o">=</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nf">valueOf</span><span class="p">()</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nf">valueOf</span><span class="p">();</span>
<span class="p">};</span>
<span class="dl">'</span><span class="s1">abc</span><span class="dl">'</span><span class="p">.</span><span class="nf">double</span><span class="p">()</span>
<span class="c1">// abcabc</span>

<span class="nb">Number</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">double</span> <span class="o">=</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nf">valueOf</span><span class="p">()</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nf">valueOf</span><span class="p">();</span>
<span class="p">};</span>
<span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="nf">double</span><span class="p">()</span> <span class="c1">// 246</span>
</code></pre></div></div> <h2 id="五boolean-对象">五、Boolean 对象</h2> <p><code class="language-plaintext highlighter-rouge">Boolean</code> 对象是 JavaScript 的三个包装对象之一。作为构造函数，它主要用于生成布尔值的包装对象实例。<code class="language-plaintext highlighter-rouge">false</code> 对应的包装对象实例，布尔运算结果也是 <code class="language-plaintext highlighter-rouge">true</code>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if </span><span class="p">(</span><span class="k">new</span> <span class="nc">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">true</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span> <span class="c1">// true</span>

<span class="k">if </span><span class="p">(</span><span class="k">new</span> <span class="nc">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="nf">valueOf</span><span class="p">())</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">true</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span> <span class="c1">// 无输出</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Boolean</code> 对象除了可以作为构造函数，还可以单独使用，将任意值转为布尔值。这时 <code class="language-plaintext highlighter-rouge">Boolean</code> 就是一个单纯的工具方法。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Boolean</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)</span> <span class="c1">// false</span>
<span class="nc">Boolean</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span> <span class="c1">// false</span>
<span class="nc">Boolean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1">// false</span>
<span class="nc">Boolean</span><span class="p">(</span><span class="dl">''</span><span class="p">)</span> <span class="c1">// false</span>
<span class="nc">Boolean</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span> <span class="c1">// false</span>

<span class="nc">Boolean</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nc">Boolean</span><span class="p">(</span><span class="dl">'</span><span class="s1">false</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nc">Boolean</span><span class="p">([])</span> <span class="c1">// true</span>
<span class="nc">Boolean</span><span class="p">({})</span> <span class="c1">// true</span>
<span class="nc">Boolean</span><span class="p">(</span><span class="nf">function </span><span class="p">()</span> <span class="p">{})</span> <span class="c1">// true</span>
<span class="nc">Boolean</span><span class="p">(</span><span class="sr">/foo/</span><span class="p">)</span> <span class="c1">// true</span>
</code></pre></div></div> <p>使用双重的否运算符（<code class="language-plaintext highlighter-rouge">!</code>）也可以将任意值转为对应的布尔值。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">!!</span><span class="kc">undefined</span> <span class="c1">// false</span>
<span class="o">!!</span><span class="kc">null</span> <span class="c1">// false</span>
<span class="o">!!</span><span class="mi">0</span> <span class="c1">// false</span>
<span class="o">!!</span><span class="dl">''</span> <span class="c1">// false</span>
<span class="o">!!</span><span class="kc">NaN</span> <span class="c1">// false</span>

<span class="o">!!</span><span class="mi">1</span> <span class="c1">// true</span>
<span class="o">!!</span><span class="dl">'</span><span class="s1">false</span><span class="dl">'</span> <span class="c1">// true</span>
<span class="o">!!</span><span class="p">[]</span> <span class="c1">// true</span>
<span class="o">!!</span><span class="p">{}</span> <span class="c1">// true</span>
<span class="o">!!</span><span class="kd">function</span><span class="p">(){}</span> <span class="c1">// true</span>
<span class="o">!!</span><span class="sr">/foo/</span> <span class="c1">// true</span>
</code></pre></div></div> <h2 id="六number-对象">六、Number 对象</h2> <p>Number 对象是数值对应的包装对象，可以作为构造函数使用，也可以作为工具函数使用。</p> <h3 id="1-静态属性">1. 静态属性</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">Number.POSITIVE_INFINITY</code>：正的无限，指向 <code class="language-plaintext highlighter-rouge">Infinity</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Number.NEGATIVE_INFINITY</code>：负的无限，指向 <code class="language-plaintext highlighter-rouge">-Infinity</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Number.NaN</code>：表示非数值，指向 <code class="language-plaintext highlighter-rouge">NaN</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Number.MIN_VALUE</code>：表示最小的正数（即最接近 <code class="language-plaintext highlighter-rouge">0</code> 的正数，在 64 位浮点数体系中为 <code class="language-plaintext highlighter-rouge">5e-324</code>），相应的，最接近 <code class="language-plaintext highlighter-rouge">0</code> 的负数为 <code class="language-plaintext highlighter-rouge">-Number.MIN_VALUE</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Number.MAX_SAFE_INTEGER</code>：表示能够精确表示的最大整数，即 <code class="language-plaintext highlighter-rouge">9007199254740991</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Number.MIN_SAFE_INTEGER</code>：表示能够精确表示的最小整数，即 <code class="language-plaintext highlighter-rouge">-9007199254740991</code>。\</li> </ul> <h3 id="2-实例方法-1">2. 实例方法</h3> <h4 id="21--numberprototypetostring">2.1 Number.prototype.toString()</h4> <p><code class="language-plaintext highlighter-rouge">Number()</code> 对象部署了自己的 <code class="language-plaintext highlighter-rouge">toString()</code> 方法，用来将一个数值转为字符串形式。</p> <p><code class="language-plaintext highlighter-rouge">Number.prototype.toString(radix)</code> 方法可以接受一个参数，表示输出的进制。如果省略这个参数，默认将数值先转为十进制，再输出字符串；否则，就根据参数指定的进制，将一个数字转化成某个进制的字符串。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">toString</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// "1010"</span>
<span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">toString</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="c1">// "12"</span>
<span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span> <span class="c1">// "a"</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">toString()</code> 方法只能将十进制的数，转为其他进制的字符串。如果要将其他进制的数，转回十进制，需要使用 <code class="language-plaintext highlighter-rouge">parseInt()</code> 方法。</p> <h4 id="22-numberprototypetofixed">2.2 Number.prototype.toFixed()</h4> <p><code class="language-plaintext highlighter-rouge">Number.prototype.toFixed(digits)</code> 方法先将一个数转为指定位数的小数，然后返回这个小数对应的字符串。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// "10.00"</span>
<span class="mf">10.005</span><span class="p">.</span><span class="nf">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// "10.01"</span>
</code></pre></div></div> <h4 id="23-numberprototypetoexponential">2.3 Number.prototype.toExponential()</h4> <p><code class="language-plaintext highlighter-rouge">Number.prototype.toExponential(fractionDigits)</code> 方法用于将一个数转为科学计数法形式。<code class="language-plaintext highlighter-rouge">toExponential()</code> 方法的参数是小数点后有效数字的位数，范围为 0 到 100，超出这个范围，会抛出一个 <code class="language-plaintext highlighter-rouge">RangeError</code> 错误。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">toExponential</span><span class="p">()</span>  <span class="c1">// "1e+1"</span>
<span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">toExponential</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// "1.0e+1"</span>
<span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nf">toExponential</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// "1.00e+1"</span>
<span class="p">(</span><span class="mi">1234</span><span class="p">).</span><span class="nf">toExponential</span><span class="p">()</span>  <span class="c1">// "1.234e+3"</span>
<span class="p">(</span><span class="mi">1234</span><span class="p">).</span><span class="nf">toExponential</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// "1.2e+3"</span>
<span class="p">(</span><span class="mi">1234</span><span class="p">).</span><span class="nf">toExponential</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// "1.23e+3"</span>
</code></pre></div></div> <h4 id="24-numberprototypetoprecision">2.4 Number.prototype.toPrecision()</h4> <p><code class="language-plaintext highlighter-rouge">Number.prototype.toPrecision(precision)</code> 方法用于将一个数转为指定位数的有效数字。该方法的参数为有效数字的位数，范围是 1 到 100，超出这个范围会抛出 <code class="language-plaintext highlighter-rouge">RangeError</code> 错误。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">12.34</span><span class="p">).</span><span class="nf">toPrecision</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// "1e+1"</span>
<span class="p">(</span><span class="mf">12.34</span><span class="p">).</span><span class="nf">toPrecision</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// "12"</span>
<span class="p">(</span><span class="mf">12.34</span><span class="p">).</span><span class="nf">toPrecision</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// "12.3"</span>
<span class="p">(</span><span class="mf">12.34</span><span class="p">).</span><span class="nf">toPrecision</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1">// "12.34"</span>
<span class="p">(</span><span class="mf">12.34</span><span class="p">).</span><span class="nf">toPrecision</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// "12.340"</span>
</code></pre></div></div> <h4 id="25-numberprototypetolocalestring">2.5 Number.prototype.toLocaleString()</h4> <p><code class="language-plaintext highlighter-rouge">Number.prototype.toLocaleString(locales, options)</code> 方法返回一个字符串，表示当前数字在该地区的当地书写形式。</p> <ul> <li>第一个参数是字符串形式的地区码。</li> <li> <p>第二个参数是配置对象，用来定制指定用途的返回字符串。该对象的 <code class="language-plaintext highlighter-rouge">style</code> 属性指定输出样式，默认值是 <code class="language-plaintext highlighter-rouge">decimal</code>，表示输出十进制形式。</p> <ul> <li>如果 <code class="language-plaintext highlighter-rouge">style</code> 值为 <code class="language-plaintext highlighter-rouge">percent</code>，表示输出百分数。</li> <li>如果 <code class="language-plaintext highlighter-rouge">style</code> 值为 <code class="language-plaintext highlighter-rouge">currency</code>，则可以搭配 <code class="language-plaintext highlighter-rouge">currency</code> 属性，输出指定格式的货币字符串形式。</li> </ul> </li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="nf">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">zh-Hans-CN-u-nu-hanidec</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// "一二三"</span>

<span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="nf">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">zh-Hans-CN</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">style</span><span class="p">:</span> <span class="dl">'</span><span class="s1">percent</span><span class="dl">'</span><span class="p">,</span>
<span class="p">})</span>
<span class="c1">// "12,300%"</span>

<span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="nf">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">zh-Hans-CN</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">style</span><span class="p">:</span> <span class="dl">'</span><span class="s1">currency</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="dl">'</span><span class="s1">CNY</span><span class="dl">'</span><span class="p">,</span>
<span class="p">})</span>
<span class="c1">// "￥123.00"</span>

<span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="nf">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">de-DE</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">style</span><span class="p">:</span> <span class="dl">'</span><span class="s1">currency</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="dl">'</span><span class="s1">EUR</span><span class="dl">'</span><span class="p">,</span>
<span class="p">})</span>
<span class="c1">// "123,00 €"</span>

<span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="nf">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">style</span><span class="p">:</span> <span class="dl">'</span><span class="s1">currency</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USD</span><span class="dl">'</span><span class="p">,</span>
<span class="p">})</span>
<span class="c1">// "$123.00"</span>
</code></pre></div></div> <p>如果 <code class="language-plaintext highlighter-rouge">Number.prototype.toLocaleString()</code> 省略了参数，则由浏览器自行决定如何处理，通常会使用操作系统的地区设定。</p> <h3 id="3-自定义方法">3. 自定义方法</h3> <p><code class="language-plaintext highlighter-rouge">Number.prototype</code> 对象上面可以自定义方法，被 <code class="language-plaintext highlighter-rouge">Number</code> 的实例继承。</p> <h2 id="七string-对象">七、String 对象</h2> <h3 id="1-概述-1">1. 概述</h3> <p><code class="language-plaintext highlighter-rouge">String</code> 可以用作构造函数，还可以当作工具方法使用，将任意类型的值转为字符串。<code class="language-plaintext highlighter-rouge">String</code> 对象是一个类似数组的对象（很像数组，但不是数组）。</p> <h3 id="2-静态方法-stringfromcharcode">2. 静态方法 String.fromCharCode()</h3> <p><code class="language-plaintext highlighter-rouge">String.fromCharCode()</code> 方法的参数是一个或多个数值，代表 Unicode 码点，返回值是这些码点组成的字符串。该方法不支持 Unicode 码点大于 <code class="language-plaintext highlighter-rouge">0xFFFF</code> 的字符，即传入的参数不能大于 <code class="language-plaintext highlighter-rouge">0xFFFF</code>（即十进制的 <code class="language-plaintext highlighter-rouge">65535</code>）。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">String</span><span class="p">.</span><span class="nf">fromCharCode</span><span class="p">(</span><span class="mh">0x20BB7</span><span class="p">)</span>
<span class="c1">// "ஷ"</span>
<span class="nb">String</span><span class="p">.</span><span class="nf">fromCharCode</span><span class="p">(</span><span class="mh">0x20BB7</span><span class="p">)</span> <span class="o">===</span> <span class="nb">String</span><span class="p">.</span><span class="nf">fromCharCode</span><span class="p">(</span><span class="mh">0x0BB7</span><span class="p">)</span>
<span class="c1">// true</span>
</code></pre></div></div> <p>这种现象的根本原因在于，码点大于 <code class="language-plaintext highlighter-rouge">0xFFFF</code> 的字符占用四个字节，而 JavaScript 默认支持两个字节的字符。这种情况下，必须把 <code class="language-plaintext highlighter-rouge">0x20BB7</code> 拆成两个字符表示。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">String</span><span class="p">.</span><span class="nf">fromCharCode</span><span class="p">(</span><span class="mh">0xD842</span><span class="p">,</span> <span class="mh">0xDFB7</span><span class="p">)</span>
<span class="c1">// "𠮷"</span>
</code></pre></div></div> <h3 id="3-实例属性-stringprototypelength">3. 实例属性 String.prototype.length</h3> <p><code class="language-plaintext highlighter-rouge">length</code> 属性返回字符串的长度。</p> <h3 id="4-实例方法">4. 实例方法</h3> <h4 id="41-stringprototypecharatstringprototypecharcodeat">4.1 String.prototype.charAt()，String.prototype.charCodeAt()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">charAt(index)</code> 方法返回指定位置的字符。</li> <li> <code class="language-plaintext highlighter-rouge">charCodeAt(index)</code> 方法返回字符串指定位置的 Unicode 码点（十进制表示），相当于 <code class="language-plaintext highlighter-rouge">String.fromCharCode()</code> 的逆操作。</li> </ul> <h4 id="42-stringprototypeconcat">4.2 String.prototype.concat()</h4> <p><code class="language-plaintext highlighter-rouge">concat(str1, str2, ...)</code> 方法用于连接多个字符串，返回一个新字符串，不改变原字符串。如果参数不是字符串，<code class="language-plaintext highlighter-rouge">concat()</code> 方法会将其先转为字符串，然后再连接。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "abc"</span>
<span class="dl">''</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="dl">'</span><span class="s1">3</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "123"</span>
</code></pre></div></div> <h4 id="43-stringprototypeslicestringprototypesubstring">4.3 String.prototype.slice()，String.prototype.substring()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">substring(start, end)</code> 方法用于从原字符串取出子字符串并返回，不改变原字符串，跟 slice() 方法很相像。它的第一个参数表示子字符串的开始位置，第二个位置表示结束位置（返回结果不含该位置）。不建议使用 <code class="language-plaintext highlighter-rouge">substring()</code> 方法，因为如果第一个参数大于第二个参数，或者当参数是负数时，其行为表现很怪异。应该优先使用 <code class="language-plaintext highlighter-rouge">slice()</code>。</li> <li> <code class="language-plaintext highlighter-rouge">substr(start, length)</code> [已弃用]方法用于从原字符串取出子字符串并返回，不改变原字符串，跟 <code class="language-plaintext highlighter-rouge">slice()</code> 和 <code class="language-plaintext highlighter-rouge">substring()</code> 方法的作用相同。</li> <li> <p><code class="language-plaintext highlighter-rouge">slice(start, end)</code> 方法用于从原字符串取出子字符串并返回，不改变原字符串。它的第一个参数是子字符串的开始位置，第二个参数是子字符串的结束位置（不含该位置）。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">JavaScript</span><span class="dl">'</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">// "Java"</span>
</code></pre></div> </div> </li> </ul> <p>字符串的截取，应该优先使用 <code class="language-plaintext highlighter-rouge">slice()</code>。</p> <h4 id="44-stringprototypeindexofstringprototypelastindexof">4.4 String.prototype.indexOf()，String.prototype.lastIndexOf()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">indexOf(searchElement, start)</code> 方法用于确定一个字符串在另一个字符串中第一次出现的位置，返回结果是匹配开始的位置。如果返回 -1，就表示不匹配。该方法还可以接受第二个参数，表示从该位置开始向后匹配。</li> <li> <code class="language-plaintext highlighter-rouge">lastIndexOf(searchElement, start)</code> 方法的用法跟 <code class="language-plaintext highlighter-rouge">indexOf()</code> 方法一致，主要的区别是 <code class="language-plaintext highlighter-rouge">lastIndexOf()</code> 从尾部开始匹配，<code class="language-plaintext highlighter-rouge">indexOf()</code> 则是从头部开始匹配。</li> </ul> <h4 id="45-stringprototypetrim">4.5 String.prototype.trim()</h4> <p><code class="language-plaintext highlighter-rouge">trim()</code> 方法用于去除字符串<strong>两端</strong>的空格，返回一个新字符串，不改变原字符串。该方法去除的不仅是空格，还包括制表符（<code class="language-plaintext highlighter-rouge">\t</code>、<code class="language-plaintext highlighter-rouge">\v</code>）、换行符（<code class="language-plaintext highlighter-rouge">\n</code>）和回车符（<code class="language-plaintext highlighter-rouge">\r</code>）。</p> <h4 id="46-stringprototypetolowercasestringprototypetouppercase">4.6 String.prototype.toLowerCase()，String.prototype.toUpperCase()</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">toLowerCase()</code> 方法将字符串<strong>全部</strong>转为小写。</li> <li> <code class="language-plaintext highlighter-rouge">toUpperCase()</code> 方法将字符串<strong>全部</strong>转为大写。</li> </ul> <p>它们都返回一个新字符串，不改变原字符串。</p> <h4 id="47-stringprototypematchstringprototypesearchstringprototypereplace">4.7 String.prototype.match()，String.prototype.search()，String.prototype.replace()</h4> <ul> <li> <p><code class="language-plaintext highlighter-rouge">match(regexp)</code> 方法用于确定原字符串是否匹配某个子字符串，返回一个<strong>数组</strong>，成员为匹配的<strong>第一个字符串</strong>。如果没有找到匹配，则返回 <code class="language-plaintext highlighter-rouge">null</code>。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">cat, bat, sat, fat</span><span class="dl">'</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="dl">'</span><span class="s1">at</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// ["at"]</span>
<span class="dl">'</span><span class="s1">cat, bat, sat, fat</span><span class="dl">'</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="dl">'</span><span class="s1">xt</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// null</span>
</code></pre></div> </div> <p>返回的数组还有 <code class="language-plaintext highlighter-rouge">index</code> 属性和 <code class="language-plaintext highlighter-rouge">input</code> 属性，分别表示匹配字符串开始的位置和原始字符串。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">matches</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">cat, bat, sat, fat</span><span class="dl">'</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="dl">'</span><span class="s1">at</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">matches</span><span class="p">.</span><span class="nx">index</span> <span class="c1">// 1</span>
<span class="nx">matches</span><span class="p">.</span><span class="nx">input</span> <span class="c1">// "cat, bat, sat, fat"</span>
</code></pre></div> </div> </li> <li> <code class="language-plaintext highlighter-rouge">search(regexp)</code> 方法的用法基本等同于 <code class="language-plaintext highlighter-rouge">match()</code>，但是返回值为匹配的<strong>第一个位置</strong>。如果没有找到匹配，则返回 <code class="language-plaintext highlighter-rouge">-1</code>。</li> <li> <p><code class="language-plaintext highlighter-rouge">replace(pattern, replacement)</code> 方法用于替换匹配的子字符串，一般情况下只替换<strong>第一个</strong>匹配（除非使用带有g修饰符的正则表达式）。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">cat, bat, sat, fat</span><span class="dl">'</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">at</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// 1</span>
<span class="dl">'</span><span class="s1">aaa</span><span class="dl">'</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "baa"</span>
</code></pre></div> </div> </li> </ul> <p><code class="language-plaintext highlighter-rouge">match()</code>、<code class="language-plaintext highlighter-rouge">search()</code> 和 <code class="language-plaintext highlighter-rouge">replace()</code> 方法都可以使用正则表达式作为参数。</p> <h4 id="48-stringprototypesplit">4.8 String.prototype.split()</h4> <p><code class="language-plaintext highlighter-rouge">split(separator, limit)</code> 方法按照给定规则分割字符串，返回一个由分割出来的子字符串组成的<strong>数组</strong>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// ["a", "b", "c"]</span>
<span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">''</span><span class="p">)</span> <span class="c1">// ["a", "|", "b", "|", "c"]</span>
<span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">()</span> <span class="c1">// ["a|b|c"]</span>
<span class="dl">'</span><span class="s1">a||c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// ['a', '', 'c']</span>
<span class="dl">'</span><span class="s1">|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// ["", "b", "c"]</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">split()</code> 方法还可以接受第二个参数，限定返回数组的最大成员数。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// []</span>
<span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// ["a"]</span>
<span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// ["a", "b"]</span>
<span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// ["a", "b", "c"]</span>
<span class="dl">'</span><span class="s1">a|b|c</span><span class="dl">'</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">// ["a", "b", "c"]</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">split()</code> 方法还可以使用正则表达式作为参数。</p> <h4 id="49-stringprototypelocalecompare">4.9 String.prototype.localeCompare()</h4> <p><code class="language-plaintext highlighter-rouge">localeCompare(compareString, locales, options)</code> 方法用于比较两个字符串。它返回一个整数：</p> <ul> <li>如果小于 <code class="language-plaintext highlighter-rouge">0</code>，表示第一个字符串小于第二个字符串。</li> <li>如果等于 <code class="language-plaintext highlighter-rouge">0</code>，表示两者相等。</li> <li>如果大于 <code class="language-plaintext highlighter-rouge">0</code>，表示第一个字符串大于第二个字符串。</li> </ul> <p>该方法的最大特点，就是会考虑自然语言的顺序。举例来说，正常情况下，大写的英文字母小于小写字母。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">B</span><span class="dl">'</span> <span class="o">&gt;</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span> <span class="c1">// false</span>
</code></pre></div></div> <p>上面代码中，字母 <code class="language-plaintext highlighter-rouge">B</code> 小于字母 <code class="language-plaintext highlighter-rouge">a</code>。因为 JavaScript 采用的是 Unicode 码点比较，<code class="language-plaintext highlighter-rouge">B</code> 的码点是 <code class="language-plaintext highlighter-rouge">66</code>，而 <code class="language-plaintext highlighter-rouge">a</code> 的码点是 <code class="language-plaintext highlighter-rouge">97</code>。</p> <p>但是，<code class="language-plaintext highlighter-rouge">localeCompare()</code> 方法会考虑自然语言的排序情况，将 <code class="language-plaintext highlighter-rouge">B</code> 排在 <code class="language-plaintext highlighter-rouge">a</code> 的前面。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">B</span><span class="dl">'</span><span class="p">.</span><span class="nf">localeCompare</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// 1</span>
</code></pre></div></div> <p>上面代码中，<code class="language-plaintext highlighter-rouge">localeCompare()</code> 方法返回整数 <code class="language-plaintext highlighter-rouge">1</code>，表示 <code class="language-plaintext highlighter-rouge">B</code> 较大。</p> <p><code class="language-plaintext highlighter-rouge">localeCompare()</code> 还可以有第二个参数，指定所使用的语言（默认是英语），然后根据该语言的规则进行比较。</p> <h2 id="八math-对象">八、Math 对象</h2> <p><code class="language-plaintext highlighter-rouge">Math</code> 是 JavaScript 的原生对象，提供各种数学功能。该对象不是构造函数，不能生成实例，所有的属性和方法都必须在 <code class="language-plaintext highlighter-rouge">Math</code> 对象上调用。</p> <h3 id="1-静态属性-1">1. 静态属性</h3> <p>Math 对象的静态属性，提供以下一些数学常数。这些属性都是只读的，不能修改。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Math.E</code>：常数 <code class="language-plaintext highlighter-rouge">e</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Math.LN2</code>：2 的自然对数。</li> <li> <code class="language-plaintext highlighter-rouge">Math.LN10</code>：10 的自然对数。</li> <li> <code class="language-plaintext highlighter-rouge">Math.LOG2E</code>：以 2 为底的 <code class="language-plaintext highlighter-rouge">e</code> 的对数。</li> <li> <code class="language-plaintext highlighter-rouge">Math.LOG10E</code>：以 10 为底的 <code class="language-plaintext highlighter-rouge">e</code> 的对数。</li> <li> <code class="language-plaintext highlighter-rouge">Math.PI</code>：常数 <code class="language-plaintext highlighter-rouge">π</code>。</li> <li> <code class="language-plaintext highlighter-rouge">Math.SQRT1_2</code>：0.5 的平方根。</li> <li> <code class="language-plaintext highlighter-rouge">Math.SQRT2</code>：2 的平方根。</li> </ul> <h3 id="2-静态方法-1">2. 静态方法</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">Math.abs(x)</code>：返回参数值的<strong>绝对值</strong>。</li> <li> <code class="language-plaintext highlighter-rouge">Math.ceil(x)</code>：返回大于或等于参数值的最小整数（天花板值，即向上取整）。</li> <li> <code class="language-plaintext highlighter-rouge">Math.floor(x)</code>：返回小于或等于参数值的最大整数（地板值，即向下取整）。</li> <li> <code class="language-plaintext highlighter-rouge">Math.min(value0, value1, ...)</code>：返回参数中的<strong>最小值</strong>。</li> <li> <code class="language-plaintext highlighter-rouge">Math.max(value0, value1, ...)</code>：返回参数中的<strong>最大值</strong>。</li> <li> <code class="language-plaintext highlighter-rouge">Math.pow(base, exponent)</code>：返回以第一个参数为底数、第二个参数为指数的<strong>幂运算</strong>值。</li> <li> <code class="language-plaintext highlighter-rouge">Math.sqrt(x)</code>：返回参数值的<strong>平方根</strong>。</li> <li> <code class="language-plaintext highlighter-rouge">Math.log(x)</code>：返回以 <code class="language-plaintext highlighter-rouge">e</code> 为底的<strong>自然对数</strong>值。</li> <li> <code class="language-plaintext highlighter-rouge">Math.exp(x)</code>：返回常数 <code class="language-plaintext highlighter-rouge">e</code> 的参数次方。</li> <li> <code class="language-plaintext highlighter-rouge">Math.round(x)</code>：用于<strong>四舍五入</strong>。</li> <li> <code class="language-plaintext highlighter-rouge">Math.random()</code>：返回 0 到 1 之间的一个伪随机数，可能等于 0，但是一定小于 1。</li> </ul> <p><code class="language-plaintext highlighter-rouge">Math</code> 对象还提供一系列三角函数方法。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Math.sin(x)</code>：返回参数的正弦（参数为弧度值）</li> <li> <code class="language-plaintext highlighter-rouge">Math.cos(x)</code>：返回参数的余弦（参数为弧度值）</li> <li> <code class="language-plaintext highlighter-rouge">Math.tan(x)</code>：返回参数的正切（参数为弧度值）</li> <li> <code class="language-plaintext highlighter-rouge">Math.asin(x)</code>：返回参数的反正弦（返回值为弧度值）</li> <li> <code class="language-plaintext highlighter-rouge">Math.acos(x)</code>：返回参数的反余弦（返回值为弧度值）</li> <li> <code class="language-plaintext highlighter-rouge">Math.atan(x)</code>：返回参数的反正切（返回值为弧度值）</li> </ul> <h2 id="九date-对象">九、Date 对象</h2> <h3 id="1-普通函数的用法">1. 普通函数的用法</h3> <p><code class="language-plaintext highlighter-rouge">Date</code> 对象可以作为普通函数直接调用，不管是否带有参数，返回的都是代表<strong><em>当前时间</em></strong>的字符串。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Date</span><span class="p">()</span> <span class="c1">// "Tue Dec 01 2015 09:34:43 GMT+0800 (CST)"</span>
<span class="nc">Date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// "Tue Dec 01 2015 09:34:43 GMT+0800 (CST)"</span>
</code></pre></div></div> <h3 id="2-构造函数的用法">2. 构造函数的用法</h3> <p><code class="language-plaintext highlighter-rouge">Date</code> 作为构造函数使用，返回 Date 对象的实例。如果不加参数，实例代表的是当前时间。</p> <p>其他对象求值的时候，都是默认调用 <code class="language-plaintext highlighter-rouge">valueOf()</code> 方法，但是 <code class="language-plaintext highlighter-rouge">Date</code> 实例求值的时候，默认调用的是 <code class="language-plaintext highlighter-rouge">toString()</code> 方法。这导致对 <code class="language-plaintext highlighter-rouge">Date</code> 实例求值，返回的是一个字符串，代表该实例对应的时间。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">today</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span>
<span class="nx">today</span> <span class="c1">// "Tue Dec 01 2015 09:34:43 GMT+0800 (CST)"</span>
<span class="c1">// 等同于</span>
<span class="nx">today</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// "Tue Dec 01 2015 09:34:43 GMT+0800 (CST)"</span>
</code></pre></div></div> <p>作为构造函数时，<code class="language-plaintext highlighter-rouge">Date</code> 对象可以接受多种格式的参数，返回该参数对应的时间实例。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 参数为时间零点开始计算的毫秒数</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">1378218728000</span><span class="p">)</span>
<span class="c1">// Tue Sep 03 2013 22:32:08 GMT+0800 (CST)</span>

<span class="c1">// 参数为日期字符串</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">January 6, 2013</span><span class="dl">'</span><span class="p">);</span>
<span class="c1">// Sun Jan 06 2013 00:00:00 GMT+0800 (CST)</span>

<span class="c1">// 参数为多个整数，</span>
<span class="c1">// 代表年、月、日、小时、分钟、秒、毫秒</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">// Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span>
</code></pre></div></div> <p>关于 <code class="language-plaintext highlighter-rouge">Date</code> 构造函数的参数，有几点说明。</p> <ul> <li>第一点，参数可以是负整数，代表 1970 年元旦之前的时间。</li> <li> <p>第二点，只要是能被 <code class="language-plaintext highlighter-rouge">Date.parse()</code> 方法解析的字符串，都可以当作参数。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">2013-2-15</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">2013/2/15</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">02/15/2013</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">2013-FEB-15</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">FEB, 15, 2013</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">FEB 15, 2013</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">February, 15, 2013</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">February 15, 2013</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">15 Feb 2013</span><span class="dl">'</span><span class="p">)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">15, February, 2013</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// Fri Feb 15 2013 00:00:00 GMT+0800 (CST)</span>
</code></pre></div> </div> </li> <li>第三，参数为年、月、日等多个整数时，年和月是不能省略的，其他参数都可以省略的。也就是说，这时至少需要两个参数，因为如果只使用“年”这一个参数，<code class="language-plaintext highlighter-rouge">Date</code> 会将其解释为毫秒数。</li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">)</span> <span class="c1">// Thu Jan 01 1970 08:00:02 GMT+0800 (CST)</span>

<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span>
<span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// Tue Jan 01 2013 00:00:00 GMT+0800 (CST)</span>
</code></pre></div></div> <p>各个参数的取值范围如下。 - 年：使用四位数年份，比如 <code class="language-plaintext highlighter-rouge">2000</code>。如果写成两位数或个位数，则加上 <code class="language-plaintext highlighter-rouge">1900</code>，即 <code class="language-plaintext highlighter-rouge">10</code> 代表 <code class="language-plaintext highlighter-rouge">1910</code> 年。如果是负数，表示公元前。 - 月：<code class="language-plaintext highlighter-rouge">0</code> 表示一月，依次类推，<code class="language-plaintext highlighter-rouge">11</code> 表示 <code class="language-plaintext highlighter-rouge">12</code> 月。 - 日：<code class="language-plaintext highlighter-rouge">1</code> 到 <code class="language-plaintext highlighter-rouge">31</code>。 - 小时：<code class="language-plaintext highlighter-rouge">0</code> 到 <code class="language-plaintext highlighter-rouge">23</code>。 - 分钟：<code class="language-plaintext highlighter-rouge">0</code> 到 <code class="language-plaintext highlighter-rouge">59</code>。 - 秒：<code class="language-plaintext highlighter-rouge">0</code> 到 <code class="language-plaintext highlighter-rouge">59</code>。 - 毫秒：<code class="language-plaintext highlighter-rouge">0</code> 到 <code class="language-plaintext highlighter-rouge">999</code>。</p> <p>注意，月份从 <code class="language-plaintext highlighter-rouge">0</code> 开始计算，但是，天数从 <code class="language-plaintext highlighter-rouge">1</code> 开始计算。另外，除了日期的默认值为 <code class="language-plaintext highlighter-rouge">1</code>，小时、分钟、秒钟和毫秒的默认值都是 <code class="language-plaintext highlighter-rouge">0</code>。</p> <p>这些参数如果超出了正常范围，会被自动折算。比如，如果月设为 <code class="language-plaintext highlighter-rouge">15</code>，就折算为下一年的 <code class="language-plaintext highlighter-rouge">4</code> 月。</p> <p>参数还可以使用负数，表示<strong>扣去</strong>的时间。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Sat Dec 01 2012 00:00:00 GMT+0800 (CST)</span>
  <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Sun Dec 30 2012 00:00:00 GMT+0800 (CST)</span>
</code></pre></div></div> <h3 id="3-日期的运算">3. 日期的运算</h3> <p>类型自动转换时：</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Date</code> 实例如果转为数值，则等于对应的<strong>毫秒数</strong>。两个日期实例对象进行<strong>减法</strong>运算时，返回的是它们<strong>间隔的毫秒数</strong>。</li> <li> <code class="language-plaintext highlighter-rouge">Date</code> 实例如果转为字符串，则等于对应的<strong>日期字符串</strong>。两个日期实例对象进行<strong>加法</strong>运算时，返回的是两个字符串<strong>连接而成的新字符串</strong>。</li> </ul> <h3 id="4-静态方法">4. 静态方法</h3> <h4 id="41-datenow">4.1 Date.now()</h4> <p><code class="language-plaintext highlighter-rouge">Date.now()</code> 方法返回当前时间距离时间零点（1970 年 1 月 1 日 00:00:00 UTC）的<strong>毫秒数</strong>，相当于 Unix 时间戳乘以 1000。</p> <h4 id="42-dateparse">4.2 Date.parse()</h4> <p><code class="language-plaintext highlighter-rouge">Date.parse(dateString)</code> 方法用来解析日期字符串，返回该时间距离时间零点（1970 年 1 月 1 日 00:00:00）的<strong>毫秒数</strong>。</p> <p>日期字符串应该符合 RFC 2822 和 ISO 8061 这两个标准，即 <code class="language-plaintext highlighter-rouge">YYYY-MM-DDTHH:mm:ss.sssZ</code> 格式，其中最后的 <code class="language-plaintext highlighter-rouge">Z</code> 表示时区。但是，其他格式也可以被解析。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Date</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="dl">'</span><span class="s1">Aug 9, 1995</span><span class="dl">'</span><span class="p">)</span>
<span class="nb">Date</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="dl">'</span><span class="s1">January 26, 2011 13:51:50</span><span class="dl">'</span><span class="p">)</span>
<span class="nb">Date</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="dl">'</span><span class="s1">Mon, 25 Dec 1995 13:30:00 GMT</span><span class="dl">'</span><span class="p">)</span>
<span class="nb">Date</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="dl">'</span><span class="s1">Mon, 25 Dec 1995 13:30:00 +0430</span><span class="dl">'</span><span class="p">)</span>
<span class="nb">Date</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="dl">'</span><span class="s1">2011-10-10</span><span class="dl">'</span><span class="p">)</span>
<span class="nb">Date</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="dl">'</span><span class="s1">2011-10-10T14:48:00</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div> <h4 id="43-dateutc">4.3 Date.UTC()</h4> <p><code class="language-plaintext highlighter-rouge">Date.UTC(year, month, day, hour, minute, second, millisecond)</code> 方法接受年、月、日等变量作为参数，返回该时间距离时间零点（1970 年 1 月 1 日 00:00:00 UTC）的<strong>毫秒数</strong>。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 格式</span>
<span class="nb">Date</span><span class="p">.</span><span class="nc">UTC</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="p">[,</span> <span class="nx">date</span><span class="p">[,</span> <span class="nx">hrs</span><span class="p">[,</span> <span class="nx">min</span><span class="p">[,</span> <span class="nx">sec</span><span class="p">[,</span> <span class="nx">ms</span><span class="p">]]]]])</span>
<span class="c1">// 用法</span>
<span class="nb">Date</span><span class="p">.</span><span class="nc">UTC</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">567</span><span class="p">)</span> <span class="c1">// 1293847384567</span>
</code></pre></div></div> <p>该方法的参数用法与 <code class="language-plaintext highlighter-rouge">Date</code> 构造函数完全一致，比如月从 <code class="language-plaintext highlighter-rouge">0</code> 开始计算，日期从 <code class="language-plaintext highlighter-rouge">1</code> 开始计算。区别在于 <code class="language-plaintext highlighter-rouge">Date.UTC()</code> 方法的参数，会被解释为 <strong>UTC 时间</strong>（世界标准时间），<code class="language-plaintext highlighter-rouge">Date</code> 构造函数的参数会被解释为<strong>当前时区</strong>的时间。</p> <h3 id="5-实例方法">5. 实例方法</h3> <p><code class="language-plaintext highlighter-rouge">Date</code> 的实例对象，有几十个自己的方法，除了 <code class="language-plaintext highlighter-rouge">valueOf()</code> 和 <code class="language-plaintext highlighter-rouge">toString()</code>，可以分为以下三类。</p> <ul> <li>get 类：获取 <code class="language-plaintext highlighter-rouge">Date</code> 对象的日期和时间。</li> <li>set 类：设置 <code class="language-plaintext highlighter-rouge">Date</code> 对象的日期和时间。</li> <li>to 类：从 <code class="language-plaintext highlighter-rouge">Date</code> 对象返回一个字符串，表示指定的时间。</li> </ul> <h4 id="51-dateprototypevalueof">5.1 Date.prototype.valueOf()</h4> <p><code class="language-plaintext highlighter-rouge">valueOf()</code> 方法返回实例对象距离时间零点（1970 年 1 月 1 日 00:00:00 UTC）对应的<strong>毫秒数</strong>，该方法等同于 <code class="language-plaintext highlighter-rouge">getTime()</code> 方法。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">valueOf</span><span class="p">()</span> <span class="c1">// 1362790014817</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">getTime</span><span class="p">()</span> <span class="c1">// 1362790014817</span>
</code></pre></div></div> <p>预期为数值的场合，<code class="language-plaintext highlighter-rouge">Date</code> 实例会自动调用该方法，所以可以用下面的方法计算时间的间隔。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span>
<span class="c1">// ...</span>
<span class="kd">var</span> <span class="nx">end</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">elapsed</span> <span class="o">=</span> <span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">;</span>
</code></pre></div></div> <h4 id="52-to-类方法">5.2 to 类方法</h4> <ul> <li> <p><code class="language-plaintext highlighter-rouge">Date.prototype.toString()</code>：返回一个完整的日期字符串。<code class="language-plaintext highlighter-rouge">toString()</code> 是默认的调用方法，如果直接读取 <code class="language-plaintext highlighter-rouge">Date</code> 实例，就相当于调用这个方法。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// "Tue Jan 01 2013 00:00:00 GMT+0800 (CST)"</span>
<span class="nx">d</span> <span class="c1">// "Tue Jan 01 2013 00:00:00 GMT+0800 (CST)"</span>
</code></pre></div> </div> </li> <li> <code class="language-plaintext highlighter-rouge">Date.prototype.toUTCString()</code>：返回对应的 UTC 时间，也就是比北京时间晚 8 个小时。</li> <li> <p><code class="language-plaintext highlighter-rouge">Date.prototype.toISOString()</code>：返回对应时间的 ISO8601 写法。此方法返回的总是 UTC 时区的时间。</p> <div class="language-javascript highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">toISOString</span><span class="p">()</span><span class="c1">// "2012-12-31T16:00:00.000Z"</span>
</code></pre></div> </div> </li> <li> <code class="language-plaintext highlighter-rouge">Date.prototype.toJSON()</code>：返回一个符合 JSON 格式的 ISO 日期字符串，与 toISOString 方法的返回结果完全相同。</li> <li> <code class="language-plaintext highlighter-rouge">Date.prototype.toDateString()</code>：返回日期字符串（不含小时、分和秒）。</li> <li> <code class="language-plaintext highlighter-rouge">Date.prototype.toTimeString()</code>：返回时间字符串（不含年月日）。</li> </ul> <p>以下三种方法，可以将 Date 实例转为表示本地时间的字符串。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Date.prototype.toLocaleString([locales[, options]])</code>：完整的本地时间。</li> <li> <code class="language-plaintext highlighter-rouge">Date.prototype.toLocaleDateString([locales[, options]])</code>：本地日期（不含小时、分和秒）。</li> <li> <code class="language-plaintext highlighter-rouge">Date.prototype.toLocaleTimeString([locales[, options]])</code>：本地时间（不含年月日）。</li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleString</span><span class="p">()</span>
<span class="c1">// 中文版浏览器为"2013/1/1 00:00:00"</span>
<span class="c1">// 英文版浏览器为"1/1/2013 12:00:00 AM"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleDateString</span><span class="p">()</span>
<span class="c1">// 中文版浏览器为"2013/1/1"</span>
<span class="c1">// 英文版浏览器为"1/1/2013"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleTimeString</span><span class="p">()</span>
<span class="c1">// 中文版浏览器为"00:00:00"</span>
<span class="c1">// 英文版浏览器为"12:00:00 AM"</span>
</code></pre></div></div> <p>这三个方法的两个参数中，<code class="language-plaintext highlighter-rouge">locales</code> 是一个指定所用语言的字符串，<code class="language-plaintext highlighter-rouge">options</code> 是一个配置对象。下面是 <code class="language-plaintext highlighter-rouge">locales</code> 的例子，分别采用 <code class="language-plaintext highlighter-rouge">en-US</code> 和 <code class="language-plaintext highlighter-rouge">zh-CN</code> 语言设定。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "1/1/2013, 12:00:00 AM"</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">zh-CN</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "2013/1/1 00:00:00"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleDateString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "1/1/2013"</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleDateString</span><span class="p">(</span><span class="dl">'</span><span class="s1">zh-CN</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "2013/1/1"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleTimeString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "12:00:00 AM"</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleTimeString</span><span class="p">(</span><span class="dl">'</span><span class="s1">zh-CN</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// "00:00:00"</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">options</code> 配置对象有以下属性。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">dateStyle</code>：可能的值为 <code class="language-plaintext highlighter-rouge">full</code>、<code class="language-plaintext highlighter-rouge">long</code>、<code class="language-plaintext highlighter-rouge">medium</code>、<code class="language-plaintext highlighter-rouge">short</code>。</li> <li> <code class="language-plaintext highlighter-rouge">timeStyle</code>：可能的值为 <code class="language-plaintext highlighter-rouge">full</code>、<code class="language-plaintext highlighter-rouge">long</code>、<code class="language-plaintext highlighter-rouge">medium</code>、<code class="language-plaintext highlighter-rouge">short</code>。</li> <li> <code class="language-plaintext highlighter-rouge">month</code>：可能的值为 <code class="language-plaintext highlighter-rouge">numeric</code>、<code class="language-plaintext highlighter-rouge">2-digit</code>、<code class="language-plaintext highlighter-rouge">long</code>、<code class="language-plaintext highlighter-rouge">short</code>、<code class="language-plaintext highlighter-rouge">narrow</code>。</li> <li> <code class="language-plaintext highlighter-rouge">year</code>：可能的值为 <code class="language-plaintext highlighter-rouge">numeric</code>、<code class="language-plaintext highlighter-rouge">2-digit</code>。</li> <li> <code class="language-plaintext highlighter-rouge">weekday</code>：可能的值为 <code class="language-plaintext highlighter-rouge">long</code>、<code class="language-plaintext highlighter-rouge">short</code>、<code class="language-plaintext highlighter-rouge">narrow</code>。</li> <li> <code class="language-plaintext highlighter-rouge">day</code>、<code class="language-plaintext highlighter-rouge">hour</code>、<code class="language-plaintext highlighter-rouge">minute</code>、<code class="language-plaintext highlighter-rouge">second</code>：可能的值为 <code class="language-plaintext highlighter-rouge">numeric</code>、<code class="language-plaintext highlighter-rouge">2-digit</code>。</li> <li> <code class="language-plaintext highlighter-rouge">timeZone</code>：可能的值为 IANA 的时区数据库。</li> <li> <code class="language-plaintext highlighter-rouge">timeZoneName</code>：可能的值为 <code class="language-plaintext highlighter-rouge">long</code>、<code class="language-plaintext highlighter-rouge">short</code>。</li> <li> <code class="language-plaintext highlighter-rouge">hour12</code>：24 小时周期还是 12 小时周期，可能的值为 <code class="language-plaintext highlighter-rouge">true</code>、<code class="language-plaintext highlighter-rouge">false</code>。</li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleDateString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">weekday</span><span class="p">:</span> <span class="dl">'</span><span class="s1">long</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">year</span><span class="p">:</span> <span class="dl">'</span><span class="s1">numeric</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">month</span><span class="p">:</span> <span class="dl">'</span><span class="s1">long</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">day</span><span class="p">:</span> <span class="dl">'</span><span class="s1">numeric</span><span class="dl">'</span>
<span class="p">})</span>
<span class="c1">// "Tuesday, January 1, 2013"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleDateString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">day</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2-digit</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">month</span><span class="p">:</span> <span class="dl">"</span><span class="s2">long</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">year</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2-digit</span><span class="dl">"</span>
<span class="p">});</span>
<span class="c1">// "January 01, 13"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleTimeString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">timeZone</span><span class="p">:</span> <span class="dl">'</span><span class="s1">UTC</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">timeZoneName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">short</span><span class="dl">'</span>
<span class="p">})</span>
<span class="c1">// "4:00:00 PM UTC"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleTimeString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">timeZone</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Asia/Shanghai</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">timeZoneName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">long</span><span class="dl">'</span>
<span class="p">})</span>
<span class="c1">// "12:00:00 AM China Standard Time"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleTimeString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">hour12</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">})</span>
<span class="c1">// "00:00:00"</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">toLocaleTimeString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">hour12</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">})</span>
<span class="c1">// "12:00:00 AM"</span>
</code></pre></div></div> <h4 id="53-get-类方法">5.3 get 类方法</h4> <p><code class="language-plaintext highlighter-rouge">Date</code> 对象提供了一系列 <code class="language-plaintext highlighter-rouge">get*</code> 方法，用来获取实例对象某个方面的值。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">getTime()</code>：返回实例距离 1970 年 1 月 1 日 00:00:00 的毫秒数，等同于 <code class="language-plaintext highlighter-rouge">valueOf()</code> 方法。</li> <li> <code class="language-plaintext highlighter-rouge">getDate()</code>：返回实例对象对应每个月的几号（从 1 开始）。</li> <li> <code class="language-plaintext highlighter-rouge">getDay()</code>：返回星期几，星期日为0，星期一为 1，以此类推。</li> <li> <code class="language-plaintext highlighter-rouge">getFullYear()</code>：返回四位的年份。</li> <li> <code class="language-plaintext highlighter-rouge">getMonth()</code>：返回月份（0 表示 1 月，11 表示 12月）。</li> <li> <code class="language-plaintext highlighter-rouge">getHours()</code>：返回小时（0-23）。</li> <li> <code class="language-plaintext highlighter-rouge">getMilliseconds()</code>：返回毫秒（0-999）。</li> <li> <code class="language-plaintext highlighter-rouge">getMinutes()</code>：返回分钟（0-59）。</li> <li> <code class="language-plaintext highlighter-rouge">getSeconds()</code>：返回秒（0-59）。</li> <li> <code class="language-plaintext highlighter-rouge">getTimezoneOffset()</code>：返回当前时间与 UTC 的时区差异，以分钟表示，返回结果考虑到了夏令时因素。</li> </ul> <p>所有这些 get* 方法返回的都是整数，不同方法返回值的范围不一样。</p> <ul> <li>分钟和秒：<code class="language-plaintext highlighter-rouge">0</code> 到 <code class="language-plaintext highlighter-rouge">59</code> </li> <li>小时：<code class="language-plaintext highlighter-rouge">0</code> 到 <code class="language-plaintext highlighter-rouge">23</code> </li> <li>星期：<code class="language-plaintext highlighter-rouge">0</code>（星期天）到 <code class="language-plaintext highlighter-rouge">6</code>（星期六）</li> <li>日期：<code class="language-plaintext highlighter-rouge">1</code> 到 <code class="language-plaintext highlighter-rouge">31</code> </li> <li>月份：<code class="language-plaintext highlighter-rouge">0</code>（一月）到 <code class="language-plaintext highlighter-rouge">11</code>（十二月）</li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">January 6, 2013</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">d</span><span class="p">.</span><span class="nf">getDate</span><span class="p">()</span> <span class="c1">// 6</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">getMonth</span><span class="p">()</span> <span class="c1">// 0</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">getFullYear</span><span class="p">()</span> <span class="c1">// 2013</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">getTimezoneOffset</span><span class="p">()</span> <span class="c1">// -480</span>
</code></pre></div></div> <p>上面这些get*方法返回的都是当前时区的时间，Date对象还提供了这些方法对应的 UTC 版本，用来返回 UTC 时间。</p> <ul> <li><code class="language-plaintext highlighter-rouge">getUTCDate()</code></li> <li><code class="language-plaintext highlighter-rouge">getUTCFullYear()</code></li> <li><code class="language-plaintext highlighter-rouge">getUTCMonth()</code></li> <li><code class="language-plaintext highlighter-rouge">getUTCDay()</code></li> <li><code class="language-plaintext highlighter-rouge">getUTCHours()</code></li> <li><code class="language-plaintext highlighter-rouge">getUTCMinutes()</code></li> <li><code class="language-plaintext highlighter-rouge">getUTCSeconds()</code></li> <li><code class="language-plaintext highlighter-rouge">getUTCMilliseconds()</code></li> </ul> <h4 id="54-set-类方法">5.4 set 类方法</h4> <p><code class="language-plaintext highlighter-rouge">Date</code> 对象提供了一系列 <code class="language-plaintext highlighter-rouge">set*</code> 方法，用来设置实例对象的各个方面。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">setDate(date)</code>：设置实例对象对应的每个月的几号（1-31），返回改变后毫秒时间戳。</li> <li> <code class="language-plaintext highlighter-rouge">setFullYear(year [, month, date])</code>：设置四位年份。</li> <li> <code class="language-plaintext highlighter-rouge">setHours(hour [, min, sec, ms])</code>：设置小时（0-23）。</li> <li> <code class="language-plaintext highlighter-rouge">setMilliseconds(ms)</code>：设置毫秒（0-999）。</li> <li> <code class="language-plaintext highlighter-rouge">setMinutes(min [, sec, ms])</code>：设置分钟（0-59）。</li> <li> <code class="language-plaintext highlighter-rouge">setMonth(month [, date])</code>：设置月份（0-11）。</li> <li> <code class="language-plaintext highlighter-rouge">setSeconds(sec [, ms])</code>：设置秒（0-59）。</li> <li> <code class="language-plaintext highlighter-rouge">setTime(milliseconds)</code>：设置毫秒时间戳。</li> </ul> <p>这些方法基本是跟 <code class="language-plaintext highlighter-rouge">get*</code> 方法一一对应的，但是没有 <code class="language-plaintext highlighter-rouge">setDay</code> 方法，因为星期几是计算出来的，而不是设置的。另外，需要注意的是，凡是涉及到设置月份，都是从 <code class="language-plaintext highlighter-rouge">0 开始算的，即 </code>0<code class="language-plaintext highlighter-rouge"> 是 </code>1<code class="language-plaintext highlighter-rouge"> 月，</code>11<code class="language-plaintext highlighter-rouge"> 是 </code>12` 月。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date </span><span class="p">(</span><span class="dl">'</span><span class="s1">January 6, 2013</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">d</span> <span class="c1">// Sun Jan 06 2013 00:00:00 GMT+0800 (CST)</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">setDate</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="c1">// 1357660800000</span>
<span class="nx">d</span> <span class="c1">// Wed Jan 09 2013 00:00:00 GMT+0800 (CST)</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">set*</code> 方法的参数都会自动折算。以 <code class="language-plaintext highlighter-rouge">setDate()</code> 为例，如果参数超过当月的最大天数，则向下一个月顺延，如果参数是负数，表示从上个月的最后一天开始减去的天数。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">(</span><span class="dl">'</span><span class="s1">January 6, 2013</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">d1</span><span class="p">.</span><span class="nf">setDate</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="c1">// 1359648000000</span>
<span class="nx">d1</span> <span class="c1">// Fri Feb 01 2013 00:00:00 GMT+0800 (CST)</span>

<span class="kd">var</span> <span class="nx">d2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date </span><span class="p">(</span><span class="dl">'</span><span class="s1">January 6, 2013</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">d2</span><span class="p">.</span><span class="nf">setDate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// 1356796800000</span>
<span class="nx">d2</span> <span class="c1">// Sun Dec 30 2012 00:00:00 GMT+0800 (CST)</span>
</code></pre></div></div> <p>上面代码中，<code class="language-plaintext highlighter-rouge">d1.setDate(32)</code> 将日期设为 <code class="language-plaintext highlighter-rouge">1</code> 月份的 <code class="language-plaintext highlighter-rouge">32</code> 号，因为 <code class="language-plaintext highlighter-rouge">1</code> 月份只有 <code class="language-plaintext highlighter-rouge">31</code> 号，所以自动折算为 <code class="language-plaintext highlighter-rouge">2</code> 月 <code class="language-plaintext highlighter-rouge">1</code> 日。<code class="language-plaintext highlighter-rouge">d2.setDate(-1)</code> 表示设为上个月的倒数第二天，即 <code class="language-plaintext highlighter-rouge">12</code> 月 <code class="language-plaintext highlighter-rouge">30</code> 日。</p> <p>set 类方法和 get 类方法，可以结合使用，得到相对时间。</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span>

<span class="c1">// 将日期向后推1000天</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">setDate</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nf">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1000</span><span class="p">);</span>
<span class="c1">// 将时间设为6小时后</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">setHours</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nf">getHours</span><span class="p">()</span> <span class="o">+</span> <span class="mi">6</span><span class="p">);</span>
<span class="c1">// 将年份设为去年</span>
<span class="nx">d</span><span class="p">.</span><span class="nf">setFullYear</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nf">getFullYear</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">set*</code> 系列方法除了 <code class="language-plaintext highlighter-rouge">setTime()</code>，都有对应的 UTC 版本，即设置 UTC 时区的时间。</p> <ul> <li><code class="language-plaintext highlighter-rouge">setUTCDate()</code></li> <li><code class="language-plaintext highlighter-rouge">setUTCFullYear()</code></li> <li><code class="language-plaintext highlighter-rouge">setUTCHours()</code></li> <li><code class="language-plaintext highlighter-rouge">setUTCMilliseconds()</code></li> <li><code class="language-plaintext highlighter-rouge">setUTCMinutes()</code></li> <li><code class="language-plaintext highlighter-rouge">setUTCMonth()</code></li> <li><code class="language-plaintext highlighter-rouge">setUTCSeconds()</code></li> </ul> <h2 id="十regexp-对象">十、RegExp 对象</h2> <h2 id="十一json-对象">十一、JSON 对象</h2> <h2 id="十二参考">十二、参考</h2> <ul> <li>阮一峰，<a href="https://wangdoc.com/javascript/stdlib/" rel="external nofollow noopener" target="_blank">JavaScript 教程 - 标准库</a> </li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/bom/">《JavaScript 教程 - 浏览器模型》摘录</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/events/">《JavaScript 教程》摘录</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/dom/">《JavaScript 教程》摘录</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/async/">《JavaScript 教程》摘录</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/oop/">《JavaScript 教程》摘录</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Zhang Feng. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-repositories",title:"repositories",description:"Edit the `_data/repositories.yml` and change the `github_users` and `github_repos` lists to include your own GitHub profile and repositories.",section:"Navigation",handler:()=>{window.location.href="/repositories/"}},{id:"nav-cv",title:"cv",description:"This is a description of the page. You can modify it in &#39;_pages/cv.md&#39;. You can also change or remove the top pdf download button.",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"nav-people",title:"people",description:"members of the lab or group",section:"Navigation",handler:()=>{window.location.href="/people/"}},{id:"dropdown-blog",title:"blog",description:"",section:"Dropdown",handler:()=>{window.location.href="/blog/"}},{id:"post-javascript-\u6559\u7a0b-\u6d4f\u89c8\u5668\u6a21\u578b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b - \u6d4f\u89c8\u5668\u6a21\u578b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/bom/"}},{id:"post-javascript-\u6559\u7a0b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/events/"}},{id:"post-javascript-\u6559\u7a0b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/dom/"}},{id:"post-javascript-\u6559\u7a0b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/async/"}},{id:"post-javascript-\u6559\u7a0b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/oop/"}},{id:"post-javascript-\u6559\u7a0b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/stdlib/"}},{id:"post-javascript-\u6559\u7a0b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/features/"}},{id:"post-javascript-\u6559\u7a0b-\u6458\u5f55",title:"\u300aJavaScript \u6559\u7a0b\u300b\u6458\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/operators/"}},{id:"post-webpack-\u7684\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f",title:"webpack \u7684\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/publish-subscribe-model/"}},{id:"post-webpack-\u9879\u76ee\u4f18\u5316",title:"webpack \u9879\u76ee\u4f18\u5316",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/optimization/"}},{id:"post-webpack-\u5e38\u7528\u914d\u7f6e\u9879",title:"webpack \u5e38\u7528\u914d\u7f6e\u9879",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/configuration/"}},{id:"post-webpack-\u5e38\u7528\u914d\u7f6e\u9879",title:"webpack \u5e38\u7528\u914d\u7f6e\u9879",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/concepts/"}},{id:"post-webpack-\u6784\u5efa\u6d41\u7a0b",title:"webpack \u6784\u5efa\u6d41\u7a0b",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/build-flow/"}},{id:"post-webpack-\u4e2d\u7684-plugin",title:"webpack \u4e2d\u7684 Plugin",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/plugin/"}},{id:"post-webpack-\u4e2d\u7684-loader",title:"webpack \u4e2d\u7684 Loader",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/loader/"}},{id:"post-http-\u7f13\u5b58",title:"HTTP \u7f13\u5b58",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/07-caching/"}},{id:"post-http-\u8fde\u63a5\u7ba1\u7406",title:"HTTP \u8fde\u63a5\u7ba1\u7406",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/04-connection-management/"}},{id:"post-es6-\u7f16\u7a0b\u98ce\u683c",title:"ES6 - \u7f16\u7a0b\u98ce\u683c",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/style/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u5e94\u7528\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u5e94\u7528\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/application-layer/"}},{id:"post-\u54cd\u5e94\u5f0f-web-\u8bbe\u8ba1",title:"\u54cd\u5e94\u5f0f Web \u8bbe\u8ba1",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/responsive-web-design/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u8fd0\u8f93\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u8fd0\u8f93\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/transport-layer/"}},{id:"post-react-\u4e2d\u7684\u4e8b\u4ef6",title:"React \u4e2d\u7684\u4e8b\u4ef6",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/events-in-react/"}},{id:"post-css-\u9884\u5904\u7406\u5668",title:"CSS \u9884\u5904\u7406\u5668",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/css-preprocessor/"}},{id:"post-css-modules-\u7528\u6cd5\u6559\u7a0b",title:"CSS Modules \u7528\u6cd5\u6559\u7a0b",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/css-modules/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u7f51\u7edc\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u7f51\u7edc\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/network-layer/"}},{id:"post-\u8de8\u57df\u8d44\u6e90\u5171\u4eab-cors",title:"\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff08CORS\uff09",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/cors/"}},{id:"post-\u9632\u6296\u548c\u8282\u6d41",title:"\u9632\u6296\u548c\u8282\u6d41",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/debounce-and-throttle/"}},{id:"post-es6-symbol",title:"ES6 - Symbol",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/symbol/"}},{id:"post-es6-\u5b57\u7b26\u4e32\u7684\u6269\u5c55",title:"ES6 - \u5b57\u7b26\u4e32\u7684\u6269\u5c55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/string/"}},{id:"post-es6-set",title:"ES6 - Set",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/set/"}},{id:"post-es6-set-\u548c-map-\u6570\u636e\u7ed3\u6784",title:"ES6 - Set \u548c Map \u6570\u636e\u7ed3\u6784",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/set-map/"}},{id:"post-es6-reflect",title:"ES6 - Reflect",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/reflect/"}},{id:"post-es6-proxy",title:"ES6 - Proxy",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/proxy/"}},{id:"post-es6-promise-\u5bf9\u8c61",title:"ES6 - Promise \u5bf9\u8c61",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/promise/"}},{id:"post-es6-object",title:"ES6 - Object",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/object/"}},{id:"post-es6-\u6a21\u5757",title:"ES6 - \u6a21\u5757",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/module/"}},{id:"post-es6-map",title:"ES6 - Map",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/map/"}},{id:"post-es6-let-\u548c-const-\u547d\u4ee4",title:"ES6 - let \u548c const \u547d\u4ee4",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/let-const/"}},{id:"post-es6-iterator",title:"ES6 - Iterator",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/iterator/"}},{id:"post-es6-generator-\u51fd\u6570",title:"ES6 - Generator \u51fd\u6570",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/generator/"}},{id:"post-es6-function",title:"ES6 - Function",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/function/"}},{id:"post-es6-\u88c5\u9970\u5668",title:"ES6 - \u88c5\u9970\u5668",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/decorator/"}},{id:"post-es6-class",title:"ES6 - Class",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/class/"}},{id:"post-es6-async-\u51fd\u6570",title:"ES6 - async \u51fd\u6570",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/async/"}},{id:"post-es6-array",title:"ES6 - Array",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/array/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u6570\u636e\u94fe\u8def\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u6570\u636e\u94fe\u8def\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/data-link-layer/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u7269\u7406\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u7269\u7406\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/physical-layer/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u6982\u8ff0",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u6982\u8ff0",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/instruction/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%7A%66%65%6E%67%30%37%31%32@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=qc6CJjYAAAAJ","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>