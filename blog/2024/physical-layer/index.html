<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 计算机网络 - 物理层 | Zhang Feng </title> <meta name="author" content="Zhang Feng"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://feng-zhang0712.github.io//blog/2024/physical-layer/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Zhang</span> Feng </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/computer/index.html">computer </a> </li> <li class="nav-item "> <a class="nav-link" href="/frontend/index.html">frontend </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">计算机网络 - 物理层</h1> <p class="post-meta"> Created in September 10, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/computer"> <i class="fa-solid fa-hashtag fa-sm"></i> computer</a>   <a href="/blog/tag/networks"> <i class="fa-solid fa-hashtag fa-sm"></i> networks</a>   ·   <a href="/blog/category/computer"> <i class="fa-solid fa-tag fa-sm"></i> computer</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="一物理层的基本概念">一、物理层的基本概念</h2> <p>物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。现有的计算机网络中的硬件设备和传输媒体的种类非常繁多，而通信手段也有许多不同方式。物理层的作用正是要尽可能地屏蔽掉这些传输媒体和通信手段的差异，使物理层上面的数据链路层感觉不到这些差异，这样就可使数据链路层只需要考虑如何完成本层的协议和服务，而不必考虑网络具体的传输媒体和通信手段是什么。用于物理层的协议也常称为物理层<strong>规程</strong>（procedure）。其实物理层规程就是物理层协议。只是在“协议”这个名词出现之前人们就先使用了“规程”这一名词。可以将物理层的主要任务描述为确定与传输媒体的接口有关的一些特性，即：</p> <ul> <li> <strong>机械特性</strong>：指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置等。平时常见的各种规格的接插件都有严格的标准化的规定。</li> <li> <strong>电气特性</strong>：指明在接口电缆的各条线上出现的电压的范围。</li> <li> <strong>功能特性</strong>：指明某条线上出现的某一电平的电压的意义。</li> <li> <strong>过程特性</strong>：指明对于不同功能的各种可能事件的出现顺序。</li> </ul> <p>数据在通信线路（传输媒体）上的传输方式一般都是串行传输（这是出于经济上的考虑），即逐个比特按照时间顺序传输。因此物理层还要完成传输方式的转换。</p> <h2 id="二数据通信的基础知识">二、数据通信的基础知识</h2> <h3 id="21-数据通信系统的模型">2.1 数据通信系统的模型</h3> <p>如图 2-1 所示，一个数据通信系统可划分为三大部分，即源系统（或发送端、发送 方）、传输系统（或传输网络）和目的系统（或接收端、接收方）。</p> <p><img src="/assets/images/computer-networks/the-model-of-data-communication-system.png" alt="数据通信系统的模型"> <em>图 2-1 数据通信系统的模型</em></p> <p>源系统一般包括以下两个部分：</p> <ul> <li> <strong>源点</strong>（source）：源点设备产生要传输的数据，例如，从计算机的键盘输入汉字，计算机产生输出的数字比特流。源点又称为源站，或信源。</li> <li> <strong>发送器</strong>：通常源点生成的数字比特流要通过发送器编码后才能够在传输系统中进行传输。典型的发送器就是调制器。现在很多计算机使用内置的调制解调器（包含调制器和解调器），用户在计算机外面看不见调制解调器。</li> </ul> <p>目的系统一般也包括以下两个部分：</p> <ul> <li> <strong>接收器</strong>：接收传输系统传送过来的信号，并把它转换为能够被目的设备处理的信息。典型的接收器就是解调器，它把来自传输线路上的模拟信号进行解调，提取出在发送端置入的消息，还原出发送端产生的数字比特流。</li> <li> <strong>终点</strong>（destination）：终点设备从接收器获取传送来的数字比特流，然后把信息输出（例如，把汉字在计算机屏幕上显示出来）。终点又称为目的站，或信宿。</li> </ul> <p>通信的目的是传送<strong>消息</strong>（message）。如话音、文字、图像、视频等都是消息。<strong>数据</strong>（data）是运送消息的实体。根据 RFC 4949 给出的定义，数据是使用特定方式表示的信息，通常是有意义的符号序列。这种信息的表示可用计算机或其他机器（或人）处理或产生。<strong>信号</strong>（signal）则是数据的电气或电磁的表现。</p> <p>根据信号中代表消息的参数的取值方式不同，信号可分为以下两大类：</p> <ul> <li> <strong>模拟信号</strong>（或<strong>连续信号</strong>）：代表消息的参数的取值是连续的。例如在图 2-1 中，用户家中的调制解调器到电话端局之间的用户线上传送的就是模拟信号。</li> <li> <strong>数字信号</strong>（或<strong>离散信号</strong>）：代表消息的参数的取值是离散的。例如在图 2-1 中，用户家中的计算机到调制解调器之间，或在电话网中继线上传送的就是数字信号。在使用时间域（或简称为时域）的波形表示数字信号时，代表不同离散数值的基本波形就称为码元。在使用二进制编码时，只有两种不同的<strong>码元</strong>，一种代表 0 状态而另一种代表 1 状态。</li> </ul> <h3 id="22-有关信道的几个基本概念">2.2 有关信道的几个基本概念</h3> <p>在许多情况下，我们要使用“信道（channel）”这一名词。信道和电路并不等同。信道一般都是用来表示向某一个方向传送信息的媒体。因此，一条通信电路往往包含一条发送信道和一条接收信道。从通信的双方信息交互的方式来看，可以有以下三种基本方式：</p> <ul> <li> <strong>单向通信</strong>：又称为<strong>单工通信</strong>，即只能有一个方向的通信而没有反方向的交互。无线电广播或有线电广播以及电视广播就属于这种类型。</li> <li> <strong>双向交替通信</strong>：又称为<strong>半双工通信</strong>，即通信的双方都可以发送信息，但不能双方同时发送（当然也就不能同时接收）。这种通信方式是一方发送另一方接收，过一段时间后可以再反过来。</li> <li> <strong>双向同时通信</strong>：又称为<strong>全双工通信</strong>，即通信的双方可以同时发送和接收信息。单向通信只需要一条信道，而双向交替通信或双向同时通信则都需要两条信道（每个方向各一条）。显然，双向同时通信的传输效率最高。</li> </ul> <p>来自信源的信号常称为<strong>基带信号</strong>（即基本频带信号）。像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。为了解决这一问题，就必须对基带信号进行<strong>调制</strong>（modulation）。</p> <p>调制可分为两大类。</p> <ul> <li> <strong>基带调制</strong>：仅仅对基带信号的波形进行变换，使它能够与信道特性相适应。变换后的信号仍然是基带信号。由于这种基带调制是把数字信号转换为另一种形式的数字信号，因此大家更愿意把这种过程称为<strong>编码</strong>（coding）。</li> <li> <strong>带通调制</strong>：使用<strong>载波</strong>（carrier）进行调制，把基带信号的频率范围搬移到较高的频段，并转换为模拟信号，这样就能够更好地在模拟信道中传输。经过载波调制后的信号称为<strong>带通信号</strong>（即仅在一段频率范围内能够通过信道）。</li> </ul> <h4 id="1常用编码方式">（1）常用编码方式</h4> <p><img src="/assets/images/computer-networks/a-common-encoding-method-for-digital-signals.png" alt="数字信号常用的编码方式"> <em>图 2-2 数字信号常用的编码方式</em></p> <ul> <li> <strong>不归零制</strong>：正电平代表 1，负电平代表 0。</li> <li> <strong>归零制</strong>：正脉冲代表 1，负脉冲代表 0。</li> <li> <strong>曼彻斯特编码</strong>：位周期中心的向上跳变代表 0，位周期中心的向下跳变代表 1。但也可反过来定义。</li> <li> <strong>差分曼彻斯特编码</strong>：在每位的中心处始终都有跳变。位开始边界有跳变代表 0，而位开始边界没有跳变代表 1。</li> </ul> <p>从信号波形中可以看出，曼彻斯特（Manchester）编码产生的信号频率比不归零制高。从自同步能力来看，不归零制不能从信号波形本身中提取信号时钟频率（这叫做没有自同步能力），而曼彻斯特编码具有自同步能力。</p> <h4 id="2基本的带通调制方法">（2）基本的带通调制方法</h4> <p><img src="/assets/images/computer-networks/the-three-most-basic-modulation-methods.png" alt="最基本的三种调制方法"> <em>图 2-3 最基本的三种调制方法</em></p> <ul> <li> <strong>调幅</strong>（AM）：即载波的振幅随基带数字信号而变化。例如，0 或 1 分别对应于无载波或有载波输出。</li> <li> <strong>调频</strong>（FM）：即载波的频率随基带数字信号而变化。例如，0 或 1 分别对应于频率 $f_1$ 或 $f_2$。</li> <li> <strong>调相</strong>（PM）：即载波的初始相位随基带数字信号而变化。例如，0 或 1 分别对应于相位 0 度或 180 度。</li> </ul> <p>为了达到更高的信息传输速率，必须采用技术上更为复杂的多元制的振幅相位混合调制方法。例如，正交振幅调制 QAM（Quadrature Amplitude Modulation）。</p> <h3 id="23-信道的极限容量">2.3 信道的极限容量</h3> <p>数字通信的优点就是：虽然信号在信道上传输时会不可避免地产生失真，但在接收端只要我们从失真的波形中能够识别出原来的信号，那么这种失真对通信质量就没有影响。例如，图 2-4（a）表示信号通过实际的信道传输后虽然有失真，但在接收端还可识别并恢复出原来的码元。但图 2-4（b）就不同了，这时信号的失真已很严重，在接收端无法识别码元是 1 还是 0。码元传输的速率越高，或信号传输的距离越远，或噪声干扰越大，或传输媒体质量越差，在接收端的波形的失真就越严重。</p> <p><img src="/assets/images/computer-networks/the-digital-signal-passes-through-the-actual-channel.png" alt="数字信号通过实际的信道"> <em>图 2-4 数字信号通过实际的信道</em></p> <p>从概念上讲，限制码元在信道上的传输速率的因素有以下两个。</p> <h4 id="1信道能够通过的频率范围">（1）信道能够通过的频率范围</h4> <p>具体的信道所能通过的频率范围总是有限的。信号中的许多高频分量往往不能通过信道。像图 2-4 所示的发送信号是一种典型的矩形脉冲信号，它包含很丰富的高频分量。如果信号中的高频分量在传输时受到衰减，那么在接收端收到的波形前沿和后沿就变得不那么陡峭了，每个码元所占的时间界限也不再是很明确的，而是前后都拖了“尾巴”。这样，在接收端收到的信号波形就失去了码元间的清晰界限。这种现象叫做<strong>码间串扰</strong>。严重的码间串扰使得本来分得很清楚的一串码元变得模糊而无法识别。早在1924年，奈奎斯特（Nyquist）就推导出了著名的<strong>奈氏准则</strong>。他给出了在假定的理想条件下，为了避免码间串扰，码元的传输速率的上限值。奈氏准则告诉我们：<strong>在任何信道中，码元传输的速率是有上限的，传输速率超过此上限，就会出现严重的码间串扰的问题，使接收端对码元的判决（即识别）成为不可能</strong>。</p> <p>如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率传送码元而不出现码间串扰。</p> <h4 id="2-信噪比">（2） 信噪比</h4> <p>噪声存在于所有的电子设备和通信信道中。由于噪声是随机产生的，它的瞬时值有时 会很大，因此噪声会使接收端对码元的判决产生错误（1误判为0或0误判为1）。但噪声的 影响是相对的。如果信号相对较强，那么噪声的影响就相对较小。因此，信噪比就很重要。 所谓信噪比就是信号的平均功率和噪声的平均功率之比，常记为 S/N，并用分贝（dB）作为度 量单位。即：</p> \[信噪比(dB) = 10 log_{10}(S/N) (dB)\] <p>例如，当 S/N = 10时，信噪比为 10dB，而当 S/N = 1000 时，信噪比为 30dB。</p> <p>在 1948 年，信息论的创始人香农（Shannon）推导出了著名的<strong>香农公式</strong>。香农公式指出：<strong>信道的极限信息传输速率</strong> C 是：</p> \[C = W log_2(1+S/N) (bit/s)\] <p>式中，W 为信道的带宽（以 Hz 为单位）；S 为信道内所传信号的平均功率；N 为信道内部的高斯噪声功率。</p> <p>香农公式表明，<strong>信道的带宽或信道中的信噪比越大，信息的极限传输速率就越高</strong>。香农公式指出了信息传输速率的上限。香农公式的意义在于：只要信息传输速率低于信道的极限信息传输速率，就一定存在某种办法来实现无差错的传输。</p> <p>从以上所讲的不难看出，对于频带宽度已确定的信道，如果信噪比也不能再提高了，并且码元传输速率也达到了上限值，那么还有什么办法提高信息的传输速率呢？这就是用编码的方法让<strong>每个码元携带更多比特的信息量</strong>。我们可以用个简单的例子来说明这个问题。</p> <p>假定我们的基带信号是：</p> \[101011000110111010...\] <p>如果直接传送，则每个码元所携带的信息量是 1bit。现将信号中的每 3 个比特编为一个组，即 101，011，000，110，111，010，…。3 个比特共有 8 种不同的排列。我们可以用不同的调制方法来表示这样的信号。例如，用 8 种不同的振幅，或 8 种不同的频率，或 8 种不同的相位进行调制。假定我们采用相位调制，用相位 $\varphi_0$ 表示 000，$\varphi_1$ 表示 001，$\varphi_2$ 表示 010，…，$\varphi_7$ 表示 111。这样，原来的 18 个码元的信号就转换为 6 个新的码元（即由原来的每三个 bit 构成一个新的码元）组成的信号：</p> \[101011000110111010... = \varphi_5 \varphi_3 \varphi_0 \varphi_6 \varphi_7 \varphi_2...\] <p>也就是说，若以同样的速率发送码元，则同样时间所传送的信息量就提高到了 3 倍。</p> <p>自从香农公式发表后，各种新的信号处理和调制方法不断出现，其目的都是为了尽可能地接近香农公式给出的传输速率极限。在实际信道上能够达到的信息传输速率要比香农的极限传输速率低不少。这是因为在实际信道中，信号还要受到其他一些损伤，如各种脉冲干扰和在传输中产生的失真，等等。这些因素在香农公式的推导过程中并未考虑。</p> <h2 id="三物理层下面的传输媒体">三、物理层下面的传输媒体</h2> <p><strong>传输媒体</strong>也称为传输介质或传输媒介，它就是数据传输系统中在发送器和接收器之间的物理通路。传输媒体可分为两大类，即<strong>导引型传输媒体</strong>和<strong>非导引型传输媒体</strong>。在导引型传输媒体中，电磁波被导引沿着固体媒体（铜线或光纤）传播，而非导引型传输媒体就是指自由空间，在非导引型传输媒体中电磁波的传输常称为无线传输。图 2-5 是电信领域使用的电磁波的频谱。</p> <p><img src="/assets/images/computer-networks/spectrum-of-electromagnetic-waves-used-in-telecommunications.png" alt="电信领域使用的电磁波的频谱"> <em>图 2-5 电信领域使用的电磁波的频谱</em></p> <h3 id="31-导引型传输媒体">3.1 导引型传输媒体</h3> <h4 id="1双绞线">（1）双绞线</h4> <p>双绞线也称为双扭线，是最古老但又是最常用的传输媒体。把两根互相绝缘的铜导线并排放在一起，然后用规则的方法<strong>绞合</strong>（twist）起来就构成了双绞线。绞合可减少对相邻导线的电磁干扰。使用双绞线最多的地方就是到处都有的电话系统。几乎所有的电话都用双绞线连接到电话交换机。这段从用户电话机到交换机的双绞线称为<strong>用户线</strong>或<strong>用户环路</strong>（subscriber loop）。通常将一定数量的这种双绞线捆成电缆，在其外面包上护套。</p> <p>模拟传输和数字传输都可以使用双绞线，其通信距离一般为几到十几公里。距离太长时就要加放大器以便将衰减了的信号放大到合适的数值（对于模拟传输），或者加上中继器以便对失真了的数字信号进行整形（对于数字传输）。导线越粗，其通信距离就越远，但导线的价格也越高。在数字传输时，若传输速率为每秒几个兆比特，则传输距离可达几公里。由于双绞线的价格便宜且性能也不错，因此使用十分广泛。</p> <p>为了提高双绞线抗电磁干扰的能力，可以在双绞线的外面再加上一层用金属丝编织成的屏蔽层。这就是<strong>屏蔽双绞线</strong>，简称为 <strong>STP</strong>（Shielded Twisted Pair）。它的价格当然比无屏蔽双绞线 <strong>UTP</strong>（Unshielded Twisted Pair）要贵一些。</p> <p><img src="/assets/images/computer-networks/diagram-of-twisted-pair.png" alt="双绞线的示意图"> <em>图 2-6 双绞线的示意图</em></p> <p>相关标准规定了 5 个种类的 UTP 标准（从 1 类线到 5 类线）。对传送数据来说，现在最常用的 UTP 是 5 类线（Category 5 或 CAT5）。5 类线与 3 类线的最主要的区别就是大大增加了每单位长度的绞合次数。3 类线的绞合长度是 7.5 至 10 cm，而 5 类线的绞合长度是 0.6 至 0.85 cm。图2-6（c）表示5类线具有比 3 类线更高的绞合度。此外，5 类线在线对间的绞合度和线对内两根导线的绞合度都经过了更精心的设计，并在生产中加以严格的控制，使干扰在一定程度上得以抵消，从而提高了线路的传输速率。</p> <table> <thead> <tr> <th>绞合线类别</th> <th>带宽</th> <th>线缆特点</th> <th>典型应用</th> </tr> </thead> <tbody> <tr> <td>3</td> <td>16 MHz</td> <td>2 对 4 芯双绞线</td> <td>模拟电话;曾用于传统以太网（10 Mbit/s）</td> </tr> <tr> <td>4</td> <td>20 MHz</td> <td>4 对 8 芯双绞线</td> <td>曾用于令牌局域网</td> </tr> <tr> <td>5</td> <td>100 MHz</td> <td>与 4 类相比增加了绞合度</td> <td>传输速率不超过 100 Mbit/s 的应用</td> </tr> <tr> <td>5E（超5类）</td> <td>125MHz</td> <td>与 5 类相比衰减更小</td> <td>传输速率不超过 1 Gbit/s 的应用</td> </tr> <tr> <td>6</td> <td>250MHz</td> <td>与 5 类相比改善了串扰等性能</td> <td>传输速率高于 1 Gbit/s 的应用</td> </tr> <tr> <td>7</td> <td>600 MHz</td> <td>使用屏蔽双绞线</td> <td>传输速率高于 10 Gbit/s 的应用</td> </tr> </tbody> </table> <p><em>表 2-1 常用的绞合线的类别、带宽和典型应用</em></p> <p>无论是哪种类别的双绞线，衰减都随频率的升高而增大。使用更粗的导线可以降低衰减，但却增加了导线的重量和价格。信号应当有足够大的振幅，以便在噪声干扰下能够在接收端正确地被检测出来。双绞线的最高速率还与数字信号的编码方式有很大的关系。</p> <h4 id="2同轴电缆">（2）同轴电缆</h4> <p>同轴电缆由内导体铜质芯线（单股实心线或多股绞合线）、绝缘层、网状编织的外导体屏蔽层（也可以是单股的）以及保护塑料外层所组成（图2-7）。由于外导体屏蔽层的作用，同轴电缆具有很好的抗干扰特性，被广泛用于传输较高速率的数据。</p> <p><img src="/assets/images/computer-networks/structure-of-coaxial-cable.png" alt="同轴电缆的结构"> <em>图 2-7 同轴电缆的结构</em></p> <h4 id="3光缆">（3）光缆</h4> <p>光纤通信利用光导纤维（以下简称为光纤）传递光脉冲进行通信。有光脉冲相当于 1，而没有光脉冲相当于 0。由于可见光的频率非常高，约为 $10^8$ MHz 的量级，因此一个光纤通信系统的传输带宽远远大于目前其他各种传输媒体的带宽。</p> <p>光纤是光纤通信的传输媒体。在发送端有光源，可以采用发光二极管或半导体激光器，它们在电脉冲的作用下能产生光脉冲。在接收端利用光电二极管做成光检测器，在检测到光脉冲时可还原出电脉冲。</p> <p>光纤通常由非常透明的石英玻璃拉成细丝，主要由纤芯和包层构成双层通信圆柱体。纤芯很细，其直径只有 8~100 $\mu m$（1 $\mu m$ = $10^{-6}$ m）。光波正是通过纤芯进行传导的。包层较纤芯有较低的折射率。当光线从高折射率的媒体射向低折射率的媒体时，其折射角将大于入射角（图 2-8）。因此，如果入射角足够大，就会出现全反射，即光线碰到包层时就会折射回纤芯。这个过程不断重复，光也就沿着光纤传输下去。</p> <p><img src="/assets/images/computer-networks/refraction-of-light-in-an-optical-fiber.png" alt="光线在光纤中的折射"> <em>图 2-8 光线在光纤中的折射</em></p> <p><img src="/assets/images/computer-networks/propagation-of-light-waves-in-a-fiber-core.png" alt="光波在纤芯中的传播"> <em>图 2-9 光波在纤芯中的传播</em></p> <p>图 2-9 中只画了一条光线。实际上，只要从纤芯中射到纤芯表面的光线的入射角大于某个临界角度，就可产生全反射。因此，可以存在多条不同角度入射的光线在一条光纤中传输。这种光纤就称为<strong>多模光纤</strong>（图 2-10（a））。光脉冲在多模光纤中传输时会逐渐展宽，造成失真。因此多模光纤只适合于近距离传输。若光纤的直径减小到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射。这样的光纤称为<strong>单模光纤</strong>（图 2-10（b））。单模光纤的纤芯很细，其直径只有几个微米，制造起来成本较高。同时单模光纤的光源要使用昂贵的半导体激光器，而不能使用较便宜的发光二极管。但单模光纤的衰耗较小，在 100 Gbit/s 的高速率下可传输 100 公里而不必采用中继器。</p> <p><img src="/assets/images/computer-networks/comparison-of-multimode-fiber-and-single-mode-fiber.png" alt="多模光纤（a）和单模光纤（b）的比较"> <em>图 2-10 多模光纤（a）和单模光纤（b）的比较</em></p> <p>由于光纤非常细，连包层一起的直径也不到 0.2 mm。因此必须将光纤做成很结实的光缆。一根光缆少则只有一根光纤，多则可包括数十至数百根光纤，再加上加强芯和填充物就可以大大提高其机械强度。必要时还可放入远供电源线。最后加上包带层和外护套，就可以使抗拉强度达到几公斤，完全可以满足工程施工的强度要求。图 2-11 为四芯光缆剖面的示意图。</p> <p><img src="/assets/images/computer-networks/diagram-of-four-fiber-cable-profile.png" alt="四芯光缆剖面的示意图"> <em>图 2-11 四芯光缆剖面的示意图</em></p> <p>光纤不仅具有通信容量非常大的优点，而且还具有其他一些特点：</p> <ul> <li>传输损耗小，中继距离长，对远距离传输特别经济。</li> <li>抗雷电和电磁干扰性能好。这在有大电流脉冲干扰的环境下尤为重要。</li> <li>无串音干扰，保密性好，也不易被窃听或截取数据。</li> <li>体积小，重量轻。</li> </ul> <p>最后要提一下，在导引型传输媒体中，还有一种是架空明线（铜线或铁线）。这是在 20 世纪初就已大量使用的方法——在电线杆上架设的互相绝缘的明线。架空明线安装简单，但通信质量差，受气候环境等影响较大。在许多国家现在都已停止了铺设架空明线。目前在我国的一些农村和边远地区的通信仍使用架空明线。</p> <h3 id="32-非导引型传输媒体">3.2 非导引型传输媒体</h3> <p>无线传输可使用的频段很广。从前面给出的图 2-5 可以看出，人们现在已经利用了好几个波段进行通信。紫外线和更高的波段目前还不能用于通信。图2-5的最下面一行还给出了ITU对波段取的正式名称。例如，LF 波段的波长是从1km到10km（对应于 30kHz~300kHz）。LF， MF 和HF 的中文名字分别是低频、中频（300 kHz 3 MHz）和高频（3MHz~30MHz）。更高的频段中的V， U， S和E分别对应于 Very， Ultra， Super 和 Extremely，相应的频段的中文名字分别是甚高频（30MHz~300MHz）、特高频（300MHz~3GHz）、超高频（3GHz~30 GHz）和极高频（30GHz~300GHz），最高的一个频段中的T是Tremendously， 目前尚无标准译名。在低频LF的下面其实还有几个更低的频段，如甚低频VLF、特低频ULF、超低频 SLF 和极低频 ELF等，因不用于一般的通信，故未画在图中。</p> <p>短波通信（即高频通信）主要是靠电离层的反射。但电离层的不稳定所产生的衰落现象和电离层反射所产生的多径效应，使得短波信道的通信质量较差。因此，当必须使用短波无线电台传送数据时，一般都是低速传输，即速率为一个标准模拟话路传几十至几百比特/秒。只有在采用复杂的调制解调技术后，才能使数据的传输速率达到几千比特/秒。</p> <p>无线电微波通信在数据通信中占有重要地位。微波的频率范围为 300MHz~300GHz（波长 1m~1mm），但主要使用 2~40GHz 的频率范围。微波在空间主要是直线传播。由于微波会穿透电离层而进入宇宙空间，因此它不像短波那样可以经电离层反射传播到地面上很远的地方。传统的微波通信主要有两种方式，即<strong>地面微波接力通信</strong>和<strong>卫星通信</strong>。由于微波在空间是直线传播的，而地球表面是个曲面，因此其传播距离受到限制，一般只有 50 km 左右。但若采用 100m 高的天线塔，则传播距离可增大到 100km。为实现远距离通信必须在一条微波通信信道的两个终端之间建立若干个中继站。中继站把前一站送来的信号经过放大后再发送到下一站，故称为“<strong>接力</strong>”。大多数长途电话业务使用 4~6 GHz的频率范围。</p> <p>微波接力通信可传输电话、电报、图像、数据等信息。其主要特点是：</p> <ul> <li>微波波段频率很高，其频段范围也很宽，因此其通信信道的容量很大。</li> <li>因为工业干扰和天电干扰的主要频谱成分比微波频率低得多，对微波通信的危害比对短波和米波（即甚高频）通信小得多，因而微波传输质量较高。</li> <li>与相同容量和长度的电缆载波通信比较，微波接力通信建设投资少，见效快，易于跨越山区、江河。</li> </ul> <p>当然，微波接力通信也存在如下的一些缺点：</p> <ul> <li>相邻站之间必须直视（常称为视距 LOS （Line Of Sight）），不能有障碍物。有时一个天线发射出的信号也会分成几条略有差别的路径到达接收天线，因而造成失真。</li> <li>微波的传播有时也会受到恶劣气候的影响。</li> <li>与电缆通信系统比较，微波通信的隐蔽性和保密性较差。</li> <li>对大量中继站的使用和维护要耗费较多的人力和物力。</li> </ul> <p>常用的卫星通信方法是在地球站之间利用位于约3万6千公里高空的人造同步地球卫星作为中继器的一种微波接力通信。对地静止通信卫星就是在太空的无人值守的微波通信的中继站。可见卫星通信的主要优缺点大体上应当和地面微波通信差不多。卫星通信的最大特点是通信距离远，且通信费用与通信距离无关。同步地球卫星发射出的电磁波能辐射到地球上的通信覆盖区的跨度达 1 万 8 千多公里，面积约占全球的三分之一。只要在地球赤道上空的同步轨道上，等距离地放置 3 颗相隔 120 度的卫星，就能基本上实现全球的通信。</p> <p>和微波接力通信相似，卫星通信的频带宽，通信容量很大，信号所受到的干扰也较小，通信比较稳定。为了避免产生干扰，卫星之间相隔如果不小于 2 度，那么整个赤道上空只能放置 180 个同步卫星。好在人们想出来可以在卫星上使用不同的频段来进行通信。因此总的通信容量资源还是很大的。卫星通信的另一特点就是具有<strong>较大的传播时延</strong>。由于各地球站的天线仰角并不相同，因此不管两个地球站之间的地面距离是多少（相隔一条街或相隔上万公里），从一个地球站经卫星到另一地球站的传播时延在 250~300 ms 之间。一般可取为 270 ms。这和其他的通信有较大差别（请注意：这两个地球站之间的距离没有什么关系）。对比之下，地面微波力通信链路的传播时延一般取为 3.3 $\mu s/km$。</p> <p>注意，“卫星信道的传播时延较大”并不等于“用卫星信道传送数据的时延较大”。这是因为传送数据的总时延除了传播时延外，还有发送时延、处理时延和排队时延等部分。传播时延在总时延中所占的比例有多大，取决于具体情况。但利用卫星信道进行交互式的网上游戏显然是不合适的。</p> <p>除上述的同步卫星外，低轨道卫星通信系统已开始使用。低轨道卫星相对于地球不是静止的，而是不停地围绕地球旋转。由于低轨道卫星离地球很近，因此轻便的手持通信设备都能够利用卫星进行通信。</p> <p>红外通信、激光通信也使用非导引型媒体。可用于近距离的笔记本电脑相互传送数据。</p> <h2 id="四信道复用技术">四、信道复用技术</h2> <h3 id="41-频分复用时分复用和统计时分复用">4.1 频分复用、时分复用和统计时分复用</h3> <p><strong>复用</strong>（multiplexing）是通信技术中的基本概念。在计算机网络中的信道广泛地使用各种复用技术。下面对信道复用技术进行简单的介绍。</p> <p>图 2-13（a）表示 $A_1$，$B_1$ 和 $C_1$ 分别使用一个单独的信道和 $A_1$，$B_1$ 和 $C_1$ 进行通信，总共需要三个信道。但如果在发送端使用一个复用器，就可以让大家合起来使用一个共享信道进行通信。在接收端再使用分用器，把合起来传输的信息分别送到相应的终点。图 2-13（b）是复用的示意图。当然复用要付出一定代价（共享信道由于带宽较大因而费用也较高，再加上复用器和分用器）。但如果复用的信道数量较大，那么在经济上还是合算的。</p> <p><img src="/assets/images/computer-networks/schematic-diagram-of-channel-reuse.png" alt="复用的示意图"> <em>图 2-13 复用的示意图</em></p> <p>最基本的复用就是<strong>频分复用 FDM</strong>（Frequency Division Multiplexing）和<strong>时分复用 TDM</strong>（Time Division Multiplexing）。频分复用最简单，其特点如图 2-14（a）所示。用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。可见<strong>频分复用的所有用户在同样的时间占用不同的带宽资源</strong>（注意，这里的“带宽”是频率带宽而不是数据的发送速率）。而时分复用则是将时间划分为一段段等长的时分复用帧（TDM 帧）。每个时分复用的用户在每个 TDM 帧中占用固定序号的时隙。为简单起见，在图 2-14（b）中只画出了 4 个用户 A，B，C 和 D。每个用户所占用的时隙周期性地出现（其周期就是 TDM 帧的长度）。因此 TDM 信号也称为<strong>等时</strong>（isochronous）信号。可以看出，<strong>时分复用的所有用户是在不同的时间占用同样的频带宽度</strong>。这两种复用方法的优点是技术比较成熟，但缺点是不够灵活。时分复用则更有利于数字信号的传输。</p> <p><img src="/assets/images/computer-networks/frequency-division-multiplexing-and-time-division-multiplexing.png" alt="频分复用和时分复用"> <em>图 2-14 频分复用（a）和时分复用（b）</em></p> <p>在使用频分复用时，若每个用户占用的带宽不变，则当复用的用户数增加时，复用后的信道的总带宽就跟着变宽。例如，传统的电话通信每个标准话路的带宽是 4 kHz（即通信用的 3.1 kHz 加上两边的保护频带），那么若有 1000 个用户进行频分复用，则复用后的总带宽就是 4MHz。但在使用时分复用时，每个时分复用帧的长度是不变的，始终是 125 $\mu s$。若有 1000 个用户进行时分复用，则每个用户分配到的时隙宽度就是 125 $\mu s$ 的千分之一，即 0.125 $\mu s$，时隙宽度变得非常窄。我们应注意到，时隙宽度非常窄的脉冲信号所占的频谱范围也是非常宽的。</p> <p>在进行通信时，<strong>复用器</strong>（multiplexer）总是和<strong>分用器</strong>（demultiplexer）成对地使用。在复用器和分用器之间是用户共享的高速信道。分用器的作用正好和复用器相反，它把高速信道传送过来的数据进行分用，分别送交到相应的用户。</p> <p>当使用时分复用系统传送计算机数据时，由于计算机数据的突发性质，一个用户对已经分配到的子信道的利用率一般是不高的。当用户在某段时间暂时无数据传输时（例如用户正在键盘上输入数据或正在浏览屏幕上的信息），那就只能让已经分配到手的子信道空闲着，而其他用户也无法使用这个暂时空闲的线路资源。图 2-15 说明了这一概念。假定有 4 个用户 A，B，C 和 D 进行时分复用。复用器按 A → B → C → D 的顺序依次对用户的时隙进行扫描，然后构成一个个时分复用帧。图中共画出了 4 个时分复用帧，每个时分复用帧有 4 个时隙。注意，在时分复用帧中，每个用户所分配到的时隙长度缩短了，在本例中，只有原来的 1/4。可以看出，当某用户暂时无数据发送时，在时分复用帧中分配给该用户的时隙只能处于空闲状态，其他用戶即使一直有数据要发送，也不能使用这些空闲的时隙。这就导致复用后的信道利用率不高。</p> <p><img src="/assets/images/computer-networks/division-multiplexing-may-cause-the-waste-of-line-resources.png" alt="时分复用可能会造成线路资源的浪费"> <em>图 2-15 时分复用可能会造成线路资源的浪费</em></p> <p>统计时分复用 STDM （Statistic TDM）是一种改进的时分复用，它能明显地提高信道的利用率。集中器（concentrator）常使用这种统计时分复用。图 2-16 是统计时分复用的原理图。一个使用统计时分复用的集中器连接 4 个低速用户，然后将它们的数据集中起来通过高速线路发送到一个远地计算机。</p> <p><img src="/assets/images/computer-networks/statistics-on-the-working-principle-of-time-division-multiplexing.png" alt="统计时分复用的工作原理"> <em>图 2-16 统计时分复用的工作原理</em></p> <p>统计时分复用使用 STDM 帧来传送复用的数据。但每个 STDM 帧中的时隙数小于连接在集中器上的用户数。各用户有了数据就随时发往集中器的输入缓存，然后集中器按顺序依次扫描输入缓存，把缓存中的输入数据放入 STDM 帧中。对没有数据的缓存就跳过去。当一个帧的数据放满了，就发送出去。因此，STDM 帧不是固定分配时隙，而是按需动态地分配时隙。因此统计时分复用可以提高线路的利用率。我们还可看出，在输出线路上，某个用户所占用的时隙并不是周期性地出现。因此统计复用又称为异步时分复用，而普通的时分复用称为同步时分复用。这里应注意的是，虽然统计时分复用的输出线路上的数据率小于各输入线路数据率的总和，但从<strong>平均的角度来看，这二者是平衡的</strong>。假定所有的用户都不间断地向集中器发送数据，那么集中器肯定无法应付，它内部设置的缓存都将溢出。所以集中器能够正常工作的前提是假定各用户都是间歇地工作。</p> <p>由于 STDM 帧中的时隙并不是固定地分配给某个用户，因此在每个时隙中还必须有用户的地址信息，这是统计时分复用必须要有的和不可避免的一些开销。在图 2-16 输出线路上每个时隙之前的短时隙（白色）就是放入这样的地址信息。使用统计时分复用的集中器也叫做智能复用器，它能提供对整个报文的存储转发能力（但大多数复用器一次只能存储一个字符或一个比特），通过排队方式使各用户更合理地共享信道。此外，许多集中器还可能具有路由选择、数据压缩、前向纠错等功能。</p> <p>最后要强调一下，TDM 帧和 STDM 帧都是在物理层传送的比特流中所划分的帧。这种“帧”和我们以后要讨论的数据链路层的“帧”是完全不同的概念，不可弄混。</p> <h3 id="42-波分复用">4.2 波分复用</h3> <p><strong>波分复用 WDM</strong>（Wavelength Division Multiplexing）就是光的频分复用。光纤技术的应用使得数据的传输速率空前提高。现在人们借用传统的载波电话的频分复用的概念，就能做到使用一根光纤来同时传输多个频率很接近的光载波信号。这样就使光纤的传输能力可成倍地提高。由于光载波的频率很高，因此习惯上用波长而不用频率来表示所使用的载波。这样就得出了波分复用这一名词。最初，人们只能在一根光纤上复用两路光载波信号。这种复用方式称为波分复用 WDM。随着技术的发展，在一根光纤上复用的载波信号的路数越来越多。现在已能做到在一根光纤上复用几十路或更多路数的载波信号。于是就使用了<strong>密集波分复用 DWDM</strong>（Dense Wavelength Division Multiplexing）这一名词。例如，每一路的数据率是 40 Gbit/s，使用 DWDM 后，如果在一根光纤上复用 64 路，就能够获得 2.56 Tbit/s 的数据率。图 2-17 给出了波分复用的概念。</p> <p><img src="/assets/images/computer-networks/concept-of-wavelength-division-multiplexing.png" alt="波分复用的概念"> <em>图 2-17 波分复用的概念</em></p> <p>图 2-17 表示 8 路传输速率均为 2.5 Gbit/s 的光载波（其波长均为1310 nm）。经光的调制后，分别将波长变换到 1550~1557 nm，每个光载波相隔 1 nm。（这里只是为了说明问题的方便。实际上，对于密集波分复用，光载波的间隔一般是 0.8 或 1.6 nm。）这 8 个波长很接近的光载波经过光复用器（波分复用的复用器又称为合波器）后，就在一根光纤中传输。因此，在一根光纤上数据传输的总速率就达到了 8 × 2.5 Gbit/s = 20 Gbit/s。但光信号传输了一段距离后就会衰减，因此对衰减了的光信号必须进行放大才能继续传输。现在已经有了很好的<strong>掺铒光纤放大器 EDFA</strong>（Erbium Doped Fiber Amplifier）。它是一种光放大器，不需要像以前那样复杂，先把光信号转换成电信号，经过电放大器放大后，再转换成为光信号。EDFA 不需要进行光电转换而直接对光信号进行放大，并且在 1550nm 波长附近有 35 nm（即 4.2 THz）频带范围提供较均匀的、最高可达 40~50 dB 的增益。两个光纤放大器之间的光缆线路长度可达 120 km，而光复用器和光分用器（波分复用的分用器又称为分波器）之间的无光电转换的距离可达 600 km（只需放入 4 个 EDFA 光纤放大器）。在地下铺设光缆是耗资很大的工程。因此人们总是在一根光缆中放入尽可能多的光纤（例如，放入 100 根以上的光纤），然后对每根光纤使用密集波分复用技术。因此，对于具有 100 根速率为 2.5 Gbit/s 光纤的光缆，采用 16 倍的密集波分复用，得到一根光缆的总数据率为 100 × 40 Gbit/s，或 4 Tbit/s。这里的 T 为 $10_12$，中文名词是“太”，即“兆兆”。</p> <h3 id="43-码分复用">4.3 码分复用</h3> <p><strong>码分复用 CDM</strong>（Code Division Multiplexing）是另一种共享信道的方法。实际上，人们更常用的名词是<strong>码分多址 CDMA</strong>（Code Division Multiple Access）。每个用户可以在同样的时间使用同样的频带进行通信。由于各用户使用经过特殊挑选的不同码型，因此各用户之间不会造成干扰。码分复用最初用于军事通信，因为这种系统发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不易被敌人发现。随着技术的进步，CDMA 设备的价格和体积都大幅度下降，因而现在已广泛使用在民用的移动通信中，特别是在无线局域网中。采用 CDMA 可提高通信的话音质量和数据传输的可靠性，减少干扰对通信的影响，增大通信系统的容量（是使用 GSM 的 4~5 倍），降低手机的平均发射功率，等等。下面简述其工作原理。</p> <p>在 CDMA 中，每个比特时间再划分为 m 个短的间隔，称为<strong>码片</strong>（chip）。通常 m 的值是 64 或 128。在下面的原理性说明中，为了画图简单起见，我们设 m 为 8。使用 CDMA 的每个站被指派一个唯一的 m bit 码片序列（chip sequence）。一个站如果要发送比特 1，则发送它自己的 m bit 码片序列。如果要发送比特 0，则发送该码片序列的二进制反码。例如，指派给 S 站的 8 bit 码片序列是 00011011。当 S 发送比特 1 时，它就发送序列 00011011，而当 S 发送比特 0 时，就发送 11100100。为了方便，我们按惯例将码片中的 0 写为 −1，将 1 写为 +1。因此 S 站的码片序列是（-1-1-1+1 +1 −1 +1 +1）。现假定 S 站要发送信息的数据率为 b bit/s。由于每个比特要转换成 m 个比特的码片，因此 S 站实际上发送的数据率提高到 mb bit/s，同时 S 站所占用的频带宽度也提高到原来数值的 m 倍。这种通信方式是<strong>扩频</strong>（spread spectrum）通信中的一种。扩频通信通常有两大类。一种是<strong>直接序列扩频 DSSS</strong>（Direct Sequence Spread Spectrum），如上面讲的使用码片序列就是这类。另一种是<strong>跳频扩频 FHSS</strong>（Frequency Hopping Spread Spectrum）。</p> <p>CDMA 系统的一个重要特点就是这种体制给每个站分配的码片序列不仅必须各不相同，并且还必须互相正交（orthogonal）。在实用的系统中是使用伪随机码序列。用数学公式可以很清楚地表示码片序列的这种正交关系。令向量 S 表示站 S 的码片向量，再令 T 表示其他任何站的码片向量。两个不同站的码片序列正交，就是向量 S 和 T 的规格化<strong>内积</strong>（inner product）都是 0：</p> \[S \bullet T = \frac{1}{m} \displaystyle\sum_{i-1}^{m} S_i T_i = 0\] <p>例如，向量 S 为（-1 -1 -1 +1 +1 −1 +1 +1），同时设向量 T 为（−1 −1 +1 −1 +1 +1 +1 −1），这相当于 T 站的码片序列为 00101110。将向量 S 和 T 的各分量值代入（2-3）式就可看出这两个码片序列是正交的。不仅如此，向量 S 和各站码片反码的向量的内积也是 0。另外一点也很重要，即任何一个码片向量和该码片向量自己的规格化内积都是 1：</p> \[S \bullet S = \frac{1}{m} \displaystyle\sum_{i=1}^{m} S_i S_i = \frac{1}{m} \displaystyle\sum_{i=1}^{m} S^{2}_i = \frac{1}{m} \displaystyle\sum_{i=1}^{m} (\pm1)^2 = 1\] <p>而一个码片向量和该码片反码的向量的规格化内积值是 −1。这从（2-4）式可以很清楚地看出，因为求和的各项都变成了 −1。</p> <p>现在假定在一个 CDMA 系统中有很多站都在相互通信，每一个站所发送的是数据比特和本站的码片序列的乘积，因而是本站的码片序列（相当于发送比特 1）和该码片序列的二进制反码（相当于发送比特 0）的组合序列，或什么也不发送（相当于没有数据发送）。我们还假定所有的站所发送的码片序列都是同步的，即所有的码片序列都在同一个时刻开始。利用全球定位系统 GPS 就不难做到这点。</p> <p>现假定有一个 X 站要接收站发送的数据。X站就必须知道S站所特有的码片序列。X站使用它得到的码片向量 S与接收到的未知信号进行求内积的运算。X 站接收到的信号是各个站发送的码片序列之和。根据上面的公式（2-3）和（2-4），再根据叠加原理（假定各种信号经过信道到达接收端是叠加的关系），那么求内积得到的结果是：所有其他站的信号都被过滤掉（其內积的相关项都是 0），而只剩下 S 站发送的信号。当 S 站发送比特 1 时，在 X 站计算内积的结果是 +1，当 S 站发送比特 0 时，内积的结果是 −1。</p> <p>图 2-18 是 CDMA 的工作原理。设 S 站要发送的数据是 110 三个码元。再设 CDMA 将每一个码元扩展为 8 个码片，而 S 站选择的码片序列为（-1 -1 -1 +1 +1 -1 +1 +1）。S 站发送的扩频信号为 $S_x$。我们应当注意到，S 站发送的扩频信号 $S_x$ 中，只包含互为反码的两种码片序列。T 站选择的码片序列为（-1 -1 +1 −1 +1 +1 +1 −1）， T 站也发送 110 三个码元，而 T 站的扩频信号为 Tx。因所有的站都使用相同的频率，因此每一个站都能够收到所有的站发送的扩频信号。对于我们的例子，所有的站收到的都是叠加的信号 $S_x$ + $T_x$。</p> <p><img src="/assets/images/computer-networks/how-cdma-works.png" alt="CDMA 的工作原理"> <em>图 2-18 CDMA 的工作原理</em></p> <p>当接收站打算收 S 站发送的信号时，就用 S 站的码片序列与收到的信号求规格化内积。这相当于分别计算 S $\bullet$ $S_x$ 和 S $\bullet$ $T_x$ 显然，S $\bullet$ $S_x$ 就是 S 站发送的数据比特，因为在计算规格化内积时，按（2-3）式相加的各项，或者都是 +1，或者都是 −1；而 S $\bullet$ $T_x$ 一定是零，因为相加的 8 项中的 +1 和 −1 各占一半，因此总和一定是零。</p> <h2 id="五数字传输系统">五、数字传输系统</h2> <p>在早期电话网中，从市话局到用户电话机的用户线采用最廉价的双绞线电缆，而长途 干线采用的是频分复用 FDM 的模拟传输方式。由于数字通信与模拟通信相比，无论是传输 质量上还是从经济上都有明显的优势，目前，长途干线大都采用时分复用 PCM 的数字传输 方式。因此，现在的模拟线路就基本上只剩下从用户电话机到市话交换机之间的这一段几公 里长的用户线上。 现代电信网，早已不只是话音这一种业务，还包括视频、图像和各种数据业务。因此 需要一种能承载来自其他各种业务网络数据的传输网络。在数字化的同时，光纤开始成为长 途干线最主要的传输媒体。光纤的高带宽适用于承载今天的高速率数据业务（比如视频会 议）和大量复用的低速率业务（比如话音）。基于这个原因，当前光纤和要求高带宽传输的 技术还在共同发展。但早期的数字传输系统存在着许多缺点，其中最主要的是以下两个： （1）速率标准不统一。由于历史的原因，多路复用的速率体系有两个互不兼容的国际标 准，北美和日本的T1速率（1.544 Mbit/s）和欧洲的E1 速率（2.048 Mbit/s）。但是再往上的复 用，日本又使用了第三种不兼容的标准。这样，国际范围的基于光纤的高速数据传输就很难 实现。 （2）不是同步传输。在过去相当长的时间，为了节约经费，各国的数字网主要采用准同 步方式。在准同步系统中由于各支路信号的时钟频率有一定的偏差，给时分复用和分用带来 许多麻烦。当数据传输的速率很高时，收发双方的时钟同步就成为很大的问题。 为了解决上述问题，美国在1988年首先推出了一个数字传输标准，叫做同步光纤网 SONET （Synchronous Optical Network）。整个的同步网络的各级时钟都来自一个非常精确的 主时钟（通常采用昂贵的铯原子钟，其精度优于±1×10-1）。SONET 为光纤传输系统定义了 同步传输的线路速率等级结构，其传输速率以51.84 Mbit/s为基础，大约对应于T3/E3的 传输速率，此速率对电信号称为第 级同步传送信号（Synchronous Transport Signal），即 STS-1;对光信号则称为第 1 级光载波（Optical Carrier），即OC-1。现已定义了从 51.84 Mbit/s（即OC-1）一直到9953.280Mbit/s（即OC-192/STS-192）的标准。 ITU-T 以美国标准 SONET 为基础，制定出国际标准同步数字系列 SDH （Synchronous Digital Hierarchy），即1988年通过的G707~G709 等三个建议书。到1992年又增加了十几 个建议书。一般可认为 SDH 与 SONET 是同义词，但其主要不同点是：SDH 的基本速率为 155.52 Mbit/s，称为第1级同步传递模块（Synchronous Transfer Module），即 STM-1，相当于 SONET 体系中的 OC-3 速率。表2-2 为 SONET 和 SDH 的比较。为方便起见，在谈到 SONET/SDH 的常用速率时，往往不使用速率的精确数值而是使用表中第二列给出的近似值 作为简称。 ① 注：SONET 规定， SONET 每秒传送8000帧（和PCM 的采样速率一样）。每个 STS-1 帧长为810字节，因此 STS-1 的数据率为8000 × 810 × 8 = 51840000 bit/s。为了便于表示，通常将一个STS-1 帧画成990列的字节排列。在这种排列中的 每一个字节对应的数据率是 64 kbit/s。一个 STS-n 的帧长就是STS-1 的帧长的n倍，也同样是每秒传送8000 帧，因此 STS-n 的 数据率就是STS-1 的数据率的n倍。</p> <p>表 2-2 SONET的OC级/STS 级与 SDH 的 STM 级的对应关系 线路速率（Mbit/s） 线路速率的近似值 SONET 符号 ITU-T 符号 相当的话路数（每个话路64kbit/s） 51.840 OC-1/STS-1 810 155.520 155 Mbit/s OC-3/STS-3 STM-1 2430 622.080 622 Mbit/s OC-12/STS-12 STM-4 9720 1244.160 - OC-24/STS-24 STM-8 19440 2488.320 2.5 Gbit/s OC-48/STS-48 STM-16 38880 4976.640 OC-96/STS-96 STM-32 77760 9953.280 10 Gbit/s OC-192/STS-192 STM-64 155 520 39813.120 40 Gbit/s OC-768/STS-768 STM-256 622 080 SDH/SONET 定义了标准光信号，规定了波长为1310nm和1550nm 的激光源。在物理 层定义了帧结构。SDH 的帧结构是以STM-1 为基础的，更高的等级是用N个 STM-1 复用 组成STM-N，如4个STM-1构成STM-4，16个STM-1构成 STM-16。 SDH/SONET 标准的制定，使北美、日本和欧洲这三个地区三种不同的数字传输体制在 STM-1 等级上获得了统一。各国都同意将这一速率以及在此基础上的更高的数字传输速率 作为国际标准。这是第一次真正实现了数字传输体制上的世界性标准。现在 SDH/SONET 标 准已成为公认的新一代理想的传输网体制，因而对世界电信网络的发展具有重大的意义。 SDH 标准也适合于微波和卫星传输的技术体制。</p> <h2 id="六宽带接入技术">六、宽带接入技术</h2> <p>在第 1 章中已讲过，用户要连接到互联网，必须先连接到某个ISP，以便获得上网所需 的 IP 地址。在互联网的发展初期，用户都是利用电话的用户线通过调制解调器连接到ISP 的，经过多年的努力，从电话的用户线接入到互联网的速率最高只能达到56 kbit/s。为了提 高用户的上网速率，近年来已经有多种宽带技术进入用户的家庭。然而目前“宽带”尚无统 一的定义。很早以前，有人认为只要接入到互联网的速率远大于56kbit/s 就是宽带。后来美 国联邦通信委员会FCC认为只要双向速率之和超过200kbit/s就是宽带。以后，宽带的标准 也不断提高。2015年1月，美国联邦通信委员会 FCC又对接入网的“宽带”进行了重新定 义，将原定的宽带下行速率调整至25 Mbit/s，原定的宽带上行速率调整至 3 Mbit/s。 从宽带接入的媒体来看，可以划分为两大类。一类是有线宽带接入，而另一类是无线 宽带接入。由于无线宽带接入比较复杂，我们将在第9章中讨论这个问题。下面我们只限于 讨论有线宽带接入。 2.6.1 ADSL 技术 非对称数字用户线 ADSL （Asymmetric Digital Subscriber Line）技术是用数字技术对现有 的模拟电话用户线进行改造，使它能够承载宽带数字业务。虽然标准模拟电话信号的频带被 限制在300~3400 Hz 的范围内（这是电话局的交换机设置的标准话路频带），但用户线本身 实际可通过的信号频率却超过1MHz。ADSL 技术把 0~4kHz低端频谱留给传统电话使 用，而把原来没有被利用的高端频谱留给用户上网使用。ADSL 的 ITU 的标准是 G.992.1 （或称 Gdmt，表示它使用DMT技术，见后面的介绍）。由于用户在上网时主要是从互联网</p> <p>下载各种文档，而向互联网发送的信息量一般都不太大，因此 ADSL 的下行（从 ISP 到用 户）带宽都远远大于上行（从用户到ISP）带宽。“非对称”这个名词就是这样得出的。 ADSL 的传输距离取决于数据率和用户线的线径（用户线越细，信号传输时的衰减就越 大）。例如，0.5 mm 线径的用户线，传输速率为1.5~2.0Mbit/s时可传送5.5 km;但当传输 速率提高到6.1 Mbit/s 时，传输距离就缩短为3.7 km。如果把用户线的线径减小到 0.4 mm， 那么在 6.1 Mbit/s 的传输速率下就只能传送2.7 km。此外，ADSL 所能得到的最高数据传输 速率还与实际的用户线上的信噪比密切相关。 ADSL 在用户线（铜线）的两端各安装一个ADSL 调制解调器。这种调制解调器的实现 方案有许多种。我国目前采用的方案是离散多音调 DMT （Discrete Multi-Tone）调制技术。这 里的“多音调”就是“多载波”或“多子信道”的意思。DMT 调制技术采用频分复用的方 法，把 40 kHz 以上一直到 1.1 MHz 的高端频谱划分为许多子信道，其中25个子信道用于上 行信道，而 249 个子信道用于下行信道，并使用不同的载波（即不同的音调）进行数字调 制。这种做法相当于在一对用户线上使用许多小的调制解调器并行地传送数据。由于用户线 的具体条件往往相差很大（距离、线径、受到相邻用户线的干扰程度等都不同），因此 ADSL 采用自适应调制技术使用户线能够传送尽可能高的数据率。当ADSL 启动时，用户线 两端的 ADSL 调制解调器就测试可用的频率、各子信道受到的干扰情况，以及在每一个频 率上测试信号的传输质量。这样就使 ADSL 能够选择合适的调制方案以获得尽可能高的数 据率。可见 ADSL 不能保证固定的数据率。对于质量很差的用户线甚至无法开通 ADSL。因 此电信局需要定期检查用户线的质量，以保证能够提供向用户承诺的最高的 ADSL 数据 率。图 2-19 所示为这种DMT 技术的频谱分布。 ADSL 的数字业务 频谱 传统电话 上行信道 下行信道 频率（kHz） 04 ~40 ~138 ~1100 图 2-19 DMT 技术的频谱分布 基于 ADSL 的接入网由以下三大部分组成：数字用户线接入复用器 DSLAM （DSL Access Multiplexer），用户线和用户家中的一些设施（见图2-20）。数字用户线接入复用器包 括许多 ADSL 调制解调器。ADSL 调制解调器又称为接入端接单元ATU （Access Termination Unit）。由于 ADSL 调制解调器必须成对使用，因此把在电话端局（或远端站）和用户家中 所用的 ADSL 调制解调器分别记为ATU-C（C代表端局（Central Office））和 ATU-R （R代表 远端（Remote））。用户电话通过电话分离器（Splitter）和 ATU-R 连在一起，经用户线到端局， 并再次经过一个电话分离器把电话连到本地电话交换机。电话分离器是无源的，它利用低通 滤波器将电话信号与数字信号分开。将电话分离器做成无源的是为了在停电时不影响传统电 话的使用。一个DSLAM 可支持多达500~1000个用户。若按每户6Mbit/s计算，则具有 1000 个端口的 DSLAM（这就需要用 1000 个 ATU-C）应有高达 6 Gbit/s 的转发能力。因 ATU-C 要使用数字信号处理技术，因此 DSLAM 的价格较高。</p> <p><img src="/assets/images/computer-networks/composition-of-access-network-based-on-ADSL.png" alt="基于ADSL 的接入网的组成"> <em>图 2-20 基于ADSL 的接入网的组成</em></p> <p>ADSL 最大的好处就是可以利用现有电话网中的用户线（铜线），而不需要重新布线。 有许多老的建筑，电话线都早已存在。但若重新铺设光纤，往往会对原有建筑产生一些损 伤。从尽量少损坏原有建筑考虑，使用 ADSL 进行宽带接入就非常合适了。到2006年3月 为止，全世界的 ADSL 用户已超过 1.5 亿户。现在 ADSL 调制解调器已经可以做得很轻巧 （见图 2-21）。需要注意的是，ADSL 调制解调器有两个插口。较大的一个是 RJ-45 插口， 用来和计算机相连（见图中的至PC）。较小的是RJ-11 插口，用来和电话分离器相连。电话 分离器则更小巧（见图2-22），用户只需要用三个带有RJ-11 插头的连线就可以连接好，使 用起来非常方便。</p> <p><img src="/assets/images/computer-networks/adsl-modem.png" alt="ADSL 调制解调器"> <em>图 2-21 ADSL 调制解调器（ADSL ATU-R）</em></p> <p><img src="/assets/images/computer-networks/telephone-separator.png" alt="电话分离器"> <em>图2 -22 电话分离器（有三个 RJ-11 插口）</em></p> <p>最后我们要指出，ADSL 借助于在用户线两端安装的 ADSL 调制解调器（即 ATU-R 和 ATU-C）对数字信号进行了调制，使得调制后的数字信号的频谱适合在原来的用户线上传 输。用户线本身并没有发生变化。但给用户的感觉是：加上ADSL 调制解调器的用户线好 像能够直接把用户计算机产生的数字信号传送到远方的ISP。正因为这样，原来的用户线加 上两端的调制解调器就变成了可以传送数字信号的数字用户线DSL。 ADSL 技术也在发展。现在ITU-T 已颁布了更高速率的 ADSL 标准，即G系列标准。 例如，ADSL2 （G992.3 和G.992.4）和ADSL2+ （G.992.5），它们都称为第二代 ADSL，目前已 开始被许多ISP采用和投入运营。第二代ADSL 改进的地方主要是： （1） 通过提高调制效率得到了更高的数据率。例如，ADSL2 要求至少应支持下行 8 Mbit/s、上行 800 kbit/s的速率。而ADSL2+则将频谱范围从1.1 MHz 扩展至2.2MHz（相应 的子信道数目也增多了），下行速率可达16Mbit/s（最大传输速率可达25 Mbit/s），而上行 速率可达 800 kbit/s。 （2） 采用了无缝速率自适应技术 SRA （Seamless Rate Adaptation），可在运营中不中断通 信和不产生误码的情况下，根据线路的实时状况，自适应地调整数据率。</p> <p>（3） 改善了线路质量评测和故障定位功能，这对提高网络的运行维护水平具有非常重要 的意义。 这里我们要强调一下，虽然 ADSL 很受居民用户欢迎，但 ADSL 并不适合于企业。这 是因为企业往往需要使用上行信道发送大量数据给许多用户。为了满足企业的需要，ADSL 技术有几种变型。例如，对称 DSL，即SDSL （Symmetric DSL），它把带宽平均分配到下行 和上行两个方向，很适合于企业使用，每个方向的速度分别为384 kbit/s 或1.5Mbit/s，距离 分别为 5.5 km 或 3 km。还有一种使用一对线或两对线的对称 DSE 叫做HDSL （High speed DSL），是用来取代T1线路的高速数字用户线，数据速率可达768 kbit/s 或1.5 Mbit/s，距离 为2.7~3.6 km。 还有一种比 ADSL 更快的、用于短距离传送（300~1800 m）的 VDSL （Very high speed DSL），即甚高速数字用户线，也很值得注意。这也就是 ADSL 的快速版本。VDSL 的下行 速率达50~55 Mbit/s，上行速率是1.5~2.5 Mbit/s。2011年ITU-T 颁布了更高速率的 VDSL2 （即第二代的 VDSL）的标准 G.993.2。VDSL2 能够提供的上行和下行的速率都能够达到 100 Mbit/s。用这样的速率能够观看非常流畅的视频节目。 以上这些不同的高速 DSL 都可记为 xDSL。 近年来，高速 DSL 技术的发展又有了新的突破。2011年ITU-T成立了G.fast 项目组。 这个项目组致力于短距离超高速接入新标准的制定，目标是使用单对铜线在 100 m 距离内能 够提供超过 500 Mbit/s 的接入速率。我国的华为公司积极参加了此标准的制定工作，是该标 准的主要技术贡献者之一。在龙国柱博士的领导下，华为公司于2012 年首先研制成功 Giga DSL 样机，实现了超高速的DSL 接入。华为的 Giga DSL 使用时分双工 TDD （Time Division Duplex）和 OFDM 技术，有效地降低了辐射干扰和设备功耗，在 100 m 内上下行总速率可达 1 Gbit/s，而在 200m内，接入速率可超过500 Mbit/s。 目前在欧洲，这种超高速 DSL 的接入方式很受欢迎。这是因为在欧洲，具有历史意义 的古老建筑非常之多，而各国政府都已制定了很严格的保护文物的法律。如果为了实现高速 上网就在这些古老建筑的墙上钻洞铺设光缆，那么就破坏了文物，因而被法律禁止。值得注 意的是，这些国家的电话普及率很高，进入这些建筑的电话线都早已铺设好了。因此，利用 现有电话线来实现高速接入，在欧洲就特别受到欢迎。 在我国，情况有些不同。在建设新的高楼时，就已经把各种电缆的管线位置预留好 了。因此，高楼中的用户可以根据自己的需要选择合适的接入方式（不一定非要采用 xDSL 技术）。因此上述这种超高速的 DSL 接入方式在国内使用得尚不普遍。 2.6.2 光纤同轴混合网（HFC网） 光纤同轴混合网（HFC网，HFC是Hybrid Fiber Coax 的缩写）是在目前覆盖面很广的 有线电视网的基础上开发的一种居民宽带接入网，除可传送电视节目外，还能提供电话、数 据和其他宽带交互型业务。最早的有线电视网是树形拓扑结构的同轴电缆网络，它采用模 拟技术的频分复用对电视节目进行单向广播传输。但以后有线电视网进行了改造，变成 了现在的光纤同轴混合网（HFC网）。这种光纤同轴混合网 HFC 的主要特点如下。 为了提高传输的可靠性和电视信号的质量，HFC 网把原有线电视网中的同轴电缆主干 部分改换为光纤（图2-23）。光纤从头端连接到光纤结点（fiber node）。在光纤结点光信号被 转换为电信号，然后通过同轴电缆传送到每个用户家庭。从头端到用户家庭所需的放大器数</p> <p>目也就减少到仅4~5个。连接到一个光纤结点的典型用户数是500左右，但不超过2000。</p> <p><img src="/assets/images/computer-networks/structure-diagram-of-hfc-network.png" alt="HFC 网的结构图"> <em>图 2-23 HFC 网的结构图</em></p> <p>光纤结点与头端的典型距离为25km，而从光纤结点到其用户的距离则不超过2~3km。 原来的有线电视网的最高传输频率是450 MHz，并且仅用于电视信号的下行传输。但 现在的 HFC 网具有双向传输功能，而且扩展了传输频带。根据有线电视频率配置标准 GB/T 17786-1999，目前我国的 HFC 网的频带划分如图2-24所示。</p> <p><img src="" alt=""> <em>图 2-24 我国的 HFC 网的频带划分</em></p> <p>要使现有的模拟电视机能够接收数字电视信号，需要把一个叫做机顶盒（set-top box）的 设备连接在同轴电缆和用户的电视机之间。但为了使用户能够利用 HFC 网接入到互联网， 以及在上行信道中传送交互数字电视所需的一些信息，我们还需要增加一个为 HFC 网使用 的调制解调器，它又称为电缆调制解调器（cable modem）。电缆调制解调器可以做成一个单 独的设备（类似于 ADSL 的调制解调器），也可以做成內置式的，安装在电视机的机顶盒里 面。用户只要把自己的计算机连接到电缆调制解调器，就可方便地上网了。 美国的有线电视实验室 CableLabs 制定的电缆调制解调器规约 DOCSIS （Data Over Cable Service Interface Specifications）的第一个版本 DOCSIS 1.0，已在 1998 年3月被ITU-T批准为 国际标准。后来又有了2001年的 DOCSIS 2.0 和 2006 年的DOCSIS 3.0 等新的标准。 电缆调制解调器不需要成对使用，而只需安装在用户端。电缆调制解调器比 ADSL 使 用的调制解调器复杂得多，因为它必须解决共享信道中可能出现的冲突问题。在使用 ADSL 调制解调器时，用户计算机所连接的电话用户线是该用户专用的，因此在用户线上所能达到 的最高数据率是确定的，与其他 ADSL 用户是否在上网无关。但在使用 HFC 的电缆调制解 调器时，在同轴电缆这一段用户所享用的最高数据率是不确定的，因为某个用户所能享用的 数据率大小取决于这段电缆上现在有多少个用户正在传送数据。有线电视运营商往往宣传通 过电缆调制解调器上网可以达到比 ADSL 更高的数据率（例如达到 10 Mbit/s 甚至 30 Mbit/s），但只有在很少几个用户上网时才可能会是这样的。然而若出现大量用户（例如几 百个）同时上网，那么每个用户实际的上网速率可能会低到难以忍受的程度。</p> <h3 id="63-fttx技术">6.3 FTTx技术</h3> <p>由于互联网上已经有了大量的视频信息资源，因此近年来宽带上网的普及率增长得很 快。但是为了更快地下载视频文件，以及更加流畅地欣赏网上的各种高清视频节目，尽快地 把用户的上网速率进行升级就成为ISP的重要任务。从技术上讲，光纤到户FTTH （Fiber To The Home）应当是最好的选择，这也是广大网民最终所向往的。所谓光纤到户，就是把光纤 一直铺设到用户家庭。只有在光纤进入用户的家门后，才把光信号转换为电信号。这样做就 可以使用户获得最高的上网速率。 但光纤到户 FTTH 有两个问题：首先是目前的价格还不够便宜;其次是一般的家庭用 户也并没有这样高的数据率的需求。要在网上流畅地观看视频节目，有数兆比特每秒的数据 率就可以了，不一定非要使用100 Mbit/s 或更高的数据率。 在这种情况下，就出现了多种宽带光纤接入方式，称为FTTx，表示 Fiber To The…。这 里字母x 可代表不同的光纤接入地点。实际上，FTTx 就是把光电转换的地方，从用户家中 （这时x就是H）向外延伸到离用户家门口有一定距离的地方。 其实，现在信号在陆地上长距离的传输，基本上都已经实现了光纤化。在前面所介绍 的 ADSL 和 HFC 宽带接入方式中，用于远距离的传输媒体也早都使用了光缆。只是到了临 近用户家庭的地方，才转为铜缆（电话的用户线和同轴电缆）。我们知道，一个家庭用户远 远用不了一根光纤的通信容量。为了有效地利用光纤资源，在光纤干线和广大用户之间，还 需要铺设一段中间的转换装置即光配线网 ODN （Optical Distribution Network），使得数十个 家庭用户能够共享一根光纤干线。图2-25 是现在广泛使用的无源光配线网的示意图。“无 源”表明在光配线网中无须配备电源，因此基本上不用维护，其长期运营成本和管理成本都 很低。无源的光配线网常称为无源光网络PON （Passive Optical Network）。</p> <p><img src="/assets/images/computer-networks/composition-of-passive-optical-distribution-network.png" alt="无源光配线网的组成"> <em>图 2-25 无源光配线网的组成</em></p> <p>在图 2-25 中，光线路终端 OLT （Optical Line Terminal）是连接到光纤干线的终端设备。 OLT 把收到的下行数据发往无源的1：N 光分路器（splitter），然后用广播方式向所有用戶端的</p> <h2 id="七参考">七、参考</h2> <ul> <li>谢希仁，<a href="https://book.douban.com/subject/26960678/" rel="external nofollow noopener" target="_blank">计算机网络（第七版）</a> </li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/application-layer/">计算机网络 - 应用层</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/responsive-web-design/">响应式 Web 设计</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/transport-layer/">计算机网络 - 运输层</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/events-in-react/">React 中的事件</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/css-preprocessor/">CSS 预处理器</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Zhang Feng. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-computer",title:"computer",description:"",section:"Navigation",handler:()=>{window.location.href="/computer/index.html"}},{id:"nav-frontend",title:"frontend",description:"",section:"Navigation",handler:()=>{window.location.href="/frontend/index.html"}},{id:"nav-repositories",title:"repositories",description:"Edit the `_data/repositories.yml` and change the `github_users` and `github_repos` lists to include your own GitHub profile and repositories.",section:"Navigation",handler:()=>{window.location.href="/repositories/"}},{id:"nav-cv",title:"cv",description:"This is a description of the page. You can modify it in &#39;_pages/cv.md&#39;. You can also change or remove the top pdf download button.",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"nav-people",title:"people",description:"members of the lab or group",section:"Navigation",handler:()=>{window.location.href="/people/"}},{id:"dropdown-blog",title:"blog",description:"",section:"Dropdown",handler:()=>{window.location.href="/blog/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u5e94\u7528\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u5e94\u7528\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/application-layer/"}},{id:"post-\u54cd\u5e94\u5f0f-web-\u8bbe\u8ba1",title:"\u54cd\u5e94\u5f0f Web \u8bbe\u8ba1",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/responsive-web-design/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u8fd0\u8f93\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u8fd0\u8f93\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/transport-layer/"}},{id:"post-react-\u4e2d\u7684\u4e8b\u4ef6",title:"React \u4e2d\u7684\u4e8b\u4ef6",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/events-in-react/"}},{id:"post-css-\u9884\u5904\u7406\u5668",title:"CSS \u9884\u5904\u7406\u5668",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/css-preprocessor/"}},{id:"post-css-modules-\u7528\u6cd5\u6559\u7a0b",title:"CSS Modules \u7528\u6cd5\u6559\u7a0b",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/css-modules/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u7f51\u7edc\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u7f51\u7edc\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/network-layer/"}},{id:"post-\u8de8\u57df\u8d44\u6e90\u5171\u4eab-cors",title:"\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff08CORS\uff09",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/cors/"}},{id:"post-\u9632\u6296\u548c\u8282\u6d41",title:"\u9632\u6296\u548c\u8282\u6d41",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/debounce-and-throttle/"}},{id:"post-es6-symbol",title:"ES6 - Symbol",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/symbol/"}},{id:"post-es6-\u5b57\u7b26\u4e32\u7684\u6269\u5c55",title:"ES6 - \u5b57\u7b26\u4e32\u7684\u6269\u5c55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/string/"}},{id:"post-es6-set",title:"ES6 - Set",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/set/"}},{id:"post-es6-reflect",title:"ES6 - Reflect",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/reflect/"}},{id:"post-es6-proxy",title:"ES6 - Proxy",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/proxy/"}},{id:"post-es6-promise-\u5bf9\u8c61",title:"ES6 - Promise \u5bf9\u8c61",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/promise/"}},{id:"post-es6-object",title:"ES6 - Object",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/object/"}},{id:"post-es6-\u6a21\u5757",title:"ES6 - \u6a21\u5757",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/module/"}},{id:"post-es6-map",title:"ES6 - Map",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/map/"}},{id:"post-es6-let-\u548c-const-\u547d\u4ee4",title:"ES6 - let \u548c const \u547d\u4ee4",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/let-const/"}},{id:"post-es6-iterator",title:"ES6 - Iterator",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/iterator/"}},{id:"post-es6-generator-\u51fd\u6570",title:"ES6 - Generator \u51fd\u6570",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/generator/"}},{id:"post-es6-function",title:"ES6 - Function",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/function/"}},{id:"post-es6-decorator",title:"ES6 - Decorator",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/decorator/"}},{id:"post-es6-class",title:"ES6 - Class",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/class/"}},{id:"post-es6-async-\u51fd\u6570",title:"ES6 - async \u51fd\u6570",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/async/"}},{id:"post-es6-array",title:"ES6 - Array",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/array/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u6570\u636e\u94fe\u8def\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u6570\u636e\u94fe\u8def\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/data-link-layer/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u7269\u7406\u5c42",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u7269\u7406\u5c42",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/physical-layer/"}},{id:"post-\u8ba1\u7b97\u673a\u7f51\u7edc-\u6982\u8ff0",title:"\u8ba1\u7b97\u673a\u7f51\u7edc - \u6982\u8ff0",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/instruction/"}},{id:"post-a-post-with-tabs",title:"a post with tabs",description:"this is what included tabs in a post could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/tabs/"}},{id:"post-a-post-with-typograms",title:"a post with typograms",description:"this is what included typograms code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/typograms/"}},{id:"post-a-post-that-can-be-cited",title:"a post that can be cited",description:"this is what a post that can be cited looks like",section:"Posts",handler:()=>{window.location.href="/blog/2024/post-citation/"}},{id:"post-a-post-with-pseudo-code",title:"a post with pseudo code",description:"this is what included pseudo code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/pseudocode/"}},{id:"post-a-post-with-code-diff",title:"a post with code diff",description:"this is how you can display code diffs",section:"Posts",handler:()=>{window.location.href="/blog/2024/code-diff/"}},{id:"post-a-post-with-advanced-image-components",title:"a post with advanced image components",description:"this is what advanced image components could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/advanced-images/"}},{id:"post-a-post-with-vega-lite",title:"a post with vega lite",description:"this is what included vega lite code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/vega-lite/"}},{id:"post-a-post-with-geojson",title:"a post with geojson",description:"this is what included geojson code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/geojson-map/"}},{id:"post-a-post-with-echarts",title:"a post with echarts",description:"this is what included echarts code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/echarts/"}},{id:"post-a-post-with-chart-js",title:"a post with chart.js",description:"this is what included chart.js code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/chartjs/"}},{id:"post-a-post-with-tikzjax",title:"a post with TikZJax",description:"this is what included TikZ code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/tikzjax/"}},{id:"post-a-post-with-bibliography",title:"a post with bibliography",description:"an example of a blog post with bibliography",section:"Posts",handler:()=>{window.location.href="/blog/2023/post-bibliography/"}},{id:"post-a-post-with-jupyter-notebook",title:"a post with jupyter notebook",description:"an example of a blog post with jupyter notebook",section:"Posts",handler:()=>{window.location.href="/blog/2023/jupyter-notebook/"}},{id:"post-a-post-with-custom-blockquotes",title:"a post with custom blockquotes",description:"an example of a blog post with custom blockquotes",section:"Posts",handler:()=>{window.location.href="/blog/2023/custom-blockquotes/"}},{id:"post-a-post-with-table-of-contents-on-a-sidebar",title:"a post with table of contents on a sidebar",description:"an example of a blog post with table of contents on a sidebar",section:"Posts",handler:()=>{window.location.href="/blog/2023/sidebar-table-of-contents/"}},{id:"post-a-post-with-audios",title:"a post with audios",description:"this is what included audios could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/audios/"}},{id:"post-a-post-with-videos",title:"a post with videos",description:"this is what included videos could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/videos/"}},{id:"post-displaying-beautiful-tables-with-bootstrap-tables",title:"displaying beautiful tables with Bootstrap Tables",description:"an example of how to use Bootstrap Tables",section:"Posts",handler:()=>{window.location.href="/blog/2023/tables/"}},{id:"post-a-post-with-table-of-contents",title:"a post with table of contents",description:"an example of a blog post with table of contents",section:"Posts",handler:()=>{window.location.href="/blog/2023/table-of-contents/"}},{id:"post-a-post-with-giscus-comments",title:"a post with giscus comments",description:"an example of a blog post with giscus comments",section:"Posts",handler:()=>{window.location.href="/blog/2022/giscus-comments/"}},{id:"post-a-post-with-redirect",title:"a post with redirect",description:"you can also redirect to assets like pdf",section:"Posts",handler:()=>{window.location.href="/assets/pdf/example_pdf.pdf"}},{id:"post-a-post-with-diagrams",title:"a post with diagrams",description:"an example of a blog post with diagrams",section:"Posts",handler:()=>{window.location.href="/blog/2021/diagrams/"}},{id:"post-a-distill-style-blog-post",title:"a distill-style blog post",description:"an example of a distill-style blog post and main elements",section:"Posts",handler:()=>{window.location.href="/blog/2021/distill/"}},{id:"post-a-post-with-twitter",title:"a post with twitter",description:"an example of a blog post with twitter",section:"Posts",handler:()=>{window.location.href="/blog/2020/twitter/"}},{id:"post-a-post-with-disqus-comments",title:"a post with disqus comments",description:"an example of a blog post with disqus comments",section:"Posts",handler:()=>{window.location.href="/blog/2015/disqus-comments/"}},{id:"post-a-post-with-math",title:"a post with math",description:"an example of a blog post with some math",section:"Posts",handler:()=>{window.location.href="/blog/2015/math/"}},{id:"post-a-post-with-code",title:"a post with code",description:"an example of a blog post with some code",section:"Posts",handler:()=>{window.location.href="/blog/2015/code/"}},{id:"post-a-post-with-images",title:"a post with images",description:"this is what included images could look like",section:"Posts",handler:()=>{window.location.href="/blog/2015/images/"}},{id:"post-a-post-with-formatting-and-links",title:"a post with formatting and links",description:"march &amp; april, looking forward to summer",section:"Posts",handler:()=>{window.location.href="/blog/2015/formatting-and-links/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%7A%66%65%6E%67%30%37%31%32@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=qc6CJjYAAAAJ","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>